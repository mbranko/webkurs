<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>JavaScript</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/branko.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">

        <section class="vcenter">
          <h1>JavaScript: neobične stvari</h1>
          <p>
            <small><a href="http://mbranko.github.io/webkurs">http://mbranko.github.io/webkurs</a></small>
          </p>
          <p>
            <small>Ovo je deo <a href="index.html#/1">web kursa</a></small>
          </p>
        </section>

        <section class="valigntop">
          <h2>Literatura</h2>
          <ul>
            <li>JavaScript Programmers Reference</li>
            <li>JavaScript: The Good Parts</a></li>
            <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide" target="_blank">JavaScript Guide</a> od Mozilla Developers Network.</li>
            <li><a href="http://www.codecademy.com/tracks/javascript" target="_blank">Code Academy</a> sa interaktivnim JavaScript lekcijama.</li>
            <li><a href="https://www.khanacademy.org/computing/cs/programming">Khan Academy</a> ima puno informacija o crtanju i animaciji.</li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Sadržaj</h2>
          <ol>
            <li><a href="#/memory">Podaci u memoriji</a></li>
            <li><a href="#/functions">Funkcije</a></li>
            <li><a href="#/closures">Closure</a></li>
            <li><a href="#/arrays">Nizovi</a></li>
            <li><a href="#/inheritance">Prototipsko nasleđivanje</a></li>
            <li><a href="#/global">Globalni objekat</a></li>
            <li><a href="#/varnovar">Sa var i bez var</a></li>
            <li><a href="#/thisthat">var that = this</a></li>
            <li><a href="#/currying">Currying</a></li>
            <li><a href="#/quiz">Kviz</a></li>
          </ol>
        </section>

        <section id="memory">
          <h1>#1: podaci u memoriji</h1>
        </section>

        <section class="valigntop">
          <h2>Podsećanje: promenljive</h2>
          <p><strong>Promenljiva</strong> je imenovani kontejner za <strong>vrednost</strong>.</p>
          <p>Ime se zove i <strong>identifikator</strong>.</p>
        </section>

        <section class="valigntop">
          <h2>Podsećanje: promenljive</h2>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
var x;
var y = "Hello JS!";
var z;
          </code></pre>
          </div>
          <p>Ove kutije su <strong>promenljive</strong> i svaka od njih ima <strong>vrednost</strong>.</p>
          <img src="img/javascript/pic01.svg" width="50%" class="clean"/>
          <p>U njima se može nalaziti bilo koja JavaScript vrednost.</p>
        </section>

        <section class="valigntop">
          <h2>Podsećanje: promenljive</h2>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
var x;
var y = "Hello JS!";
var z;
z = false;
z = 101;   // <---
          </code></pre>
          </div>
          <img src="img/javascript/pic02.svg" width="50%" class="clean"/>
          <p>Možemo joj <strong>dodeliti</strong> drugu vrednost nakon njenog kreiranja.</p>
        </section>


        <section class="valigntop">
          <h2>Opseg vidljivosti promenljive</h2>
          <p>Blokovi koda omeđeni vitičastim zagradama <strong>ne uvode</strong> poseban opseg vidljivosti!</p>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
// what is i, $, p, and q afterwards?

var i = -1;

for (var i = 0; i < 10; i += 1) {
  var $ = -i;
}

if (true) {
  var p = 'FOO';
} else {
  var q = 'BAR';
}
          </code></pre>
          </div>
        </section>

        <section class="valigntop">
          <h2>Opseg vidljivosti promenljive</h2>
          <p>Kod sa prethodnog slajda se zapravo ponaša ovako:</p>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
var i, $, p, q;  // all undefined

var i = -1;

for (i = 0; i < 10; i += 1) {
  $ = -i;
}

if (true) {
  p = 'FOO';
} else {
  q = 'BAR';
}
          </code></pre>
          </div>
          <p>Kad se program pokrene, sve deklaracije promenljivih se premeštaju<br/> <strong>na vrh tekućeg opsega</strong>.</p>
        </section>

        <section class="valigntop">
          <h2>Ključne reči</h2>
          <p>Ključne reči se ne mogu koristiti kao imena promenljivih:</p>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
null true false break do instanceof typeof
case else new var catch finally return void
continue for switch while debugger function
this with default if throw delete in try
class enum extends super const export import

implements let private public yield
interface package protected static
          </code></pre>
          </div>
        </section>

        <section class="valigntop">
          <h2>Vrednost i tip</h2>
          <p><strong>Vrednost</strong> je atomički podatak kojim operišemo.</p>
          <p><strong>Tip</strong> definiše skup mogućih vrednosti.</p>
          <p>Postoji <strong>tačno 6</strong> tipova u JavaScriptu.</p>
          <ol>
            <li>undefined</li>
            <li>null</li>
            <li>boolean</li>
            <li>number (IEEE 754 64-bit double)</li>
            <li>string</li>
            <li>object</li>
          </ol>
          <p>Prvih 5 tipova su <strong>primitivni tipovi</strong>.
        </section>

        <section class="valigntop">
          <h2>Objekat</h2>
          <p>Svaka vrednost ovog tipa je <strong>referenca</strong> na neki objekat u memoriji. Takvu referencu u govoru često zovemo samo "objekat".</p>
          <img src="img/javascript/pic03.svg" width="60%" class="clean"/>
        </section>

        <section class="valigntop">
          <h2>Objekat</h2>
          <p><strong>Objekat</strong> je skup osobina (<strong>property</strong>).</p>
          <p><strong>Osobina</strong> je imenovani kontejner za vrednost <span style="color:#333333">(sa dodatnim atributima)</span>.</p>
        </section>

        <section class="valigntop">
          <h2>Objekat čine parovi ključ-vrednost</h2>
          <p>Ime osobine zove se <strong>ključ</strong>.</p>
          <p>Objekat se posmatra kao skup <strong>parova ključ-vrednost</strong>.</p><br/><br/><br/>
          <p>Slični pojmovi postoje i u drugim jezicima: map, dictionary, hash table, associative array...</p>
        </section>

        <section class="valigntop">
          <h2>Određivanje vrednosti</h2>
          <ul>
            <li><strong>Literalna</strong> vrednost - konstanta.</li>
            <li><strong>Izraz</strong> koji uključuje promenljivu ili osobinu objekta</li>
            <li>Složeniji izrazi koji uključuju <strong>pozive funkcija</strong> ili <strong>operatore</strong></li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Promenljiva vs osobina objekta</h2>
          <div style="float:left;width:50%;font-size:30pt;">
            <pre><code class="javascript">
// Value containers
var y = "Hello!";
var w = {
    x: "test",
    y: 1234
};

            </code></pre>  
          </div>
          <div style="float:left;width:50%;font-size:30pt;">
            <pre><code class="javascript">
// To get the values
y;      // "Hello!"
w;      // (the object ref)
w.x;    // "test"
w['x']; // "test"
w.y;    // 1234
w["y"]; // 1234
            </code></pre>              
          </div>
          <img src="img/javascript/pic04.svg" width="70%" class="clean"/>
        </section>

        <section class="valigntop">
          <h2>Inicijalizacija objekta i objektni literal</h2>
          <div style="float:left;width:50%;font-size:30pt;">
            <pre><code class="javascript">
var w = {
    x: "test",
    y: 1234,
    z: {},
    w: {},
    "": "hi"
};          
            </code></pre>  
          </div>
          <div style="float:left;width:50%;font-size:30pt;">
            <pre><code class="javascript">
var w = new Object();
w.x = "test";
w.y = 1234;
w.z = new Object();
w.w = new Object();
w[""] = "hi";

            </code></pre>              
          </div>
          <p style="clear:both">Ova dva fragmenta proizvode isti rezultat.</p>
        </section>

        <section class="valigntop">
          <h2>Promena vrednosti osobine</h2>
          <p>Možemo menjati objekat nakon kreiranja.</p>
          <div style="font-size: 25pt;">
          <pre><code class="javascript">
var obj = {
    1  : "Hello",
    "3": "Good",
    x  : "JavaScript",
    foo: 101,
    bar: true,
    "" : null
};

obj["2"] = "World";     // *1 Add & Set
obj["1"];               // *2 Get       -> "Hello"
obj[2];                 // *3 Get       -> "World"
obj[3];                 // *4 Get       -> "Good"
obj.foo = 202;          // *5 Set
delete obj.bar;         // *6 Remove
delete obj[""];         // *7 Remove
          </code></pre>  
          </div>
        </section>

        <section class="valigntop">
          <h2>Čitanje osobine iz literala</h2>
          <p>Interpreter će vitičastu zagradu tumačiti kao "blok koda". Možemo naglasiti da se radi o objektu pomoću običnih zagrada (operator grupisanja).</p>
          <p>Čitanje osobine nakon literala se ne preporučuje.</p>
          <div style="font-size: 30pt;">          
          <pre><code class="javascript">
var w = { x: "test" };
var y = { x: "test" }.x;

w.x;                  // "test"
y;                    // "test"

{ x: "test" }.x;      // SyntaxError: unexpected .

({ x: "test" }.x);    // "test"
({ x: "test" }).x;    // "test"
({ x: "test" })['x']; // "test"
({ x: "test" }['x']); // "test"
          </code></pre>
          </div>
        </section>

        <section class="valigntop">
          <h2>Vrednost objekta je zapravo referenca #1</h2>
          <div style="float:left;width:50%;font-size:30pt;">
            <pre><code class="javascript">
var x = { a: 100 };
var y = { a: 100 };       
            </code></pre>  
          </div>
          <div style="float:left;width:50%">
            <img src="img/javascript/pic05.svg" width="80%" class="clean"/>            
          </div>
          <p style="clear:both">Slično pojmu pointera/adrese u jezicima kao što je C.</p>
        </section>

        <section class="valigntop">
          <h2>Vrednost objekta je zapravo referenca #2</h2>
          <div style="float:left;width:50%;font-size:30pt;">
            <pre><code class="javascript">
var x = { a: 100 };
var y = { a: 100 };
var z = y;

x === y; // false
y === z; // true     
            </code></pre>  
          </div>
          <div style="float:left;width:50%">
            <img src="img/javascript/pic06.svg" width="80%" class="clean"/>            
          </div>
          <p style="clear:both">Dodela vrednosti je kopiranje reference (adrese)!</p>
        </section>

        <section class="valigntop">
          <h2>Vrednost objekta je zapravo referenca #3</h2>
          <div style="float:left;width:50%;font-size:30pt;">
            <pre><code class="javascript">
var x = { a: 100 };
var y = { a: 100 };
var z = y;

x === y; // false
y === z; // true 

z.a = 200;    
            </code></pre>  
          </div>
          <div style="float:left;width:50%">
            <img src="img/javascript/pic07.svg" width="80%" class="clean"/>            
          </div>
          <p style="clear:both">Osobini se uvek pristupa preko reference.</p>
        </section>

        <section class="valigntop">
          <h2>Vrednost objekta je zapravo referenca #4</h2>
          <div style="float:left;width:50%;font-size:30pt;">
            <pre><code class="javascript">
var x = { a: 100 };
var y = { a: 100 };
var z = y;

x === y; // false
y === z; // true 

z.a = 200;

x.a; // 100
y.a; // 200
z.a; // 200    
            </code></pre>  
          </div>
          <div style="float:left;width:50%">
            <img src="img/javascript/pic07.svg" width="80%" class="clean"/>            
          </div>
        </section>

        <section class="valigntop">
          <h2>Pojmovna zbrka</h2>
          <p>Kada kažemo <strong>promenljiva</strong>, <strong>osobina</strong>, <strong>simbol</strong> ili <strong>identifikator</strong> možda mislimo na:
          <ul>
            <li>sam simbol, što je zapravo ime</li>
            <li>imenovani kontejner za vrednost</li>
            <li>vrednost smeštenu u kontejneru</li>
          </ul>
          </p>
          <p>Kada kažemo <strong>objekat</strong> možda mislimo na:
          <ul>
            <li>vrednost objektnog tipa, zapravo referencu</li>
            <li>objekat na koji referenca pokazuje</li>
            <li>objekat kao tip podataka</li>
            <li>standardni ugrađeni ECMAScript objekat koji se zove Object</li>
          </ul>
          </p>
        </section>

        <section id="functions">
          <h1>#2: funkcije</h1>
        </section>

        <section class="valigntop">
          <h2>Funkcije su prvoklasni objekti</h2>
          <p>Neke objekte zovemo <strong>funkcije</strong>.</p>
          <p>Funkcija je objekat koji možemo pozvati.</p><br/><br/>
          <p>Funkcije se zovu <strong>metode</strong> u nekim slučajevima.</p>
        </section>

        <section class="valigntop">
          <h2>Funkcijski izraz</h2>
          <p>Koristimo ključnu reč <code>function</code> praćenu <strong>listom parametara</strong> i <strong>blokom koda</strong> da kreiramo funkciju.</p>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
var a = 7;
var sayhi = function (name) {
    var a = "Hello " + name;
    console.log(a);
    return a;
};  
          </code></pre>  
          </div>
          <p>Funkcija se kao objekat može dodeliti promenljivoj ili proslediti kao parametar drugoj funkciji.</p>
        </section>

        <section class="valigntop">
          <h2>Poziv funkcije</h2>
          <p>Par zagrada iza imena predstavlja poziv funkcije. Parametri unutar zagrada se prosleđuju funkciji.</p>
          <p><strong>Svaki put</strong> kada se funkcija <strong>pozove</strong>, ona dobija <strong>svoj opseg vidljivosti</strong> sa lokalnim promenljivima i parametrima.</p>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
var a = 7;
var sayhi = function (name) {
    var a = "Hello " + name;
    console.log(a);
    return a;
}; 

sayhi("J"); // "Hello J"
a; // 7 
          </code></pre>  
          </div>
        </section>

        <section class="valigntop">
          <h2>Pogrešan broj parametara funkcije</h2>
          <p>U JavaScriptu možemo pozvati funkciju sa <strong>pogrešnim</strong> brojem parametara.</p>
          <p>Prilikom poziva nedefinisani parametri dobijaju vrednost <code>undefined</code>.</p>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
var f = function (a, b) {
    console.log(typeof b);
    return a + b;
};

f(3);       // NaN ("undefined" printed)
f(3, 4);    // 7   ("number" printed)
f(3, 4, 5); // 7   ("number" printed)
          </code></pre>  
          </div>
        </section>

        <section class="valigntop">
          <h2>Funkcija koja ne vraća vrednost</h2>
          <p>Funkcija <strong>ne mora</strong> da eksplicitno vrati rezultat.</p>
          <p>U tom slučaju vraća se vrednost <code>undefined</code>.</p>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
var f = function () {
    return;
};

var g = function () {
};

var foo = f();
foo; // undefined
g(); // undefined
          </code></pre>  
          </div>
        </section>

        <section class="valigntop">
          <h2>Funkcijski izraz može biti imenovan</h2>
          <div style="font-size: 26pt;">
          <pre><code class="javascript">
var fact = function (n) {
    if (n === 0) return 1;
    if (n > 0) return n * fact(n - 1);              // *1
};
fact(3);     // 6, which is the factorial of 3

var fact2 = fact;
fact = null; // But if the value changes...
fact2(3);    // TypeError: “null” is not function

var f = function fib(n) {
    if (n === 0) return 0;
    if (n === 1) return 1;
    if (n > 1) return fib(n - 1) + fib(n - 2);      // *2
};
f(10);       // 55

var g = f;
f = null;    // If the value changes...
g(10);       // 55  (still working)
          </code></pre>
          </div>
          <p>Ime <code>fib</code> je dostupno samo unutar te funkcije!</p>
        </section>

        <section class="valigntop">
          <h2>Deklaracija funkcije #1</h2>
          <p>Funkcije se mogu pozivati <strong>pre</strong> deklarisanja zato što...</p>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
// We can invoke a function
// before its "declaration"

var x = 100;

plusOne(x); // 101
plusOne(y); // NaN

var y = 999;

function plusOne(n) {
    return n + 1;
}
          </code></pre>
          </div>
        </section>

        <section class="valigntop">
          <h2>Deklaracija funkcije #2</h2>
          <p>... sve deklaracije idu na početak opsega</p>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
var x, y, plusOne;       // Variable declarations

plusOne = function (n) { // Function declarations
    return n + 1;        // are also moved to the
};                       // top of current scope

x = 100;

plusOne(x); // 101
plusOne(y); // NaN

y = 999;
          </code></pre>
          </div>
        </section>

        <section class="valigntop">
          <h2>Poziv funkcije odmah nakon funkcijskog izraza</h2>
          <p>Interpreter će misliti da deklarišemo funkciju kada naiđe na <code class="javascript">function</code>. Operatorom grupisanja možemo naglasiti da to tretira kao izraz.</p>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
(function () {
    return 123;
}());                                    // 123


(function(){ return 'hi'; })();          // "hi"
!function(){ console.log('ya'); }();     // true
void function(){ console.log('ya'); }(); // undefined
          </code></pre>
          </div>
          <p><small><code>void</code> operator za bilo koji operand uvek vraća <code>undefined</code>. <br/> Može poslužiti da se <code>function</code> tretira kao izraz umesto kao deklaracija. <br/> Može se pozivati sa zagradama kao <code>void(0)</code> ili bez zagrada kao <code>void 0</code>.</small></p>
        </section>

        <section class="valigntop">
          <h2>Metoda</h2>
          <p><strong>Metoda</strong> je funkcija koja je osobina nekog objekta.</p>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
// The cat object has three properties
// cat.age, cat.meow, and cat.sleep

var cat = {
    age: 3,
    meow: function () {}
};
cat.sleep = function () {};

// We would say that cat.meow and
// cat.sleep are "methods" of cat
          </code></pre>
          </div>
        </section>

        <section class="valigntop">
          <h2>Referenca na objekat unutar metode</h2>
          <p>Tokom izvršavanja metode, referenca <code>this</code> <span style="color:#CCCCCC">(uglavnom)</span> pokazuje na taj objekat.</p>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
var cat = {
    age: 3,
    meow: function () {
        console.log(this.sound);
        return this.age;
    },
    sound: 'meow~~'
};

cat.meow(); // 3  ("meow~~" is printed)

var m = cat.meow;
m(); // TypeError or undefined
          </code></pre>
          </div>
        </section>

        <section id="closures">
          <h1>#3: closure</h1>
        </section>

        <section class="valigntop">
          <h2>Closure</h2>
          <p><strong>Closure</strong> je <strong>par</strong> koji čine <strong>funkcija</strong> i <strong>okruženje</strong> za razrešavanje slobodnih promenljivih.</p>
        </section>

        <section class="valigntop">
          <h2>Leksičko okruženje #1</h2>
          <p>Kada koristimo promenljive iz globalnog opsega...</p>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
var a = 1;
var closureFunc = function () {
    // The "environment" (the outer scope)
    // determines to which value does the
    // symbol `a` resolve here
    console.log(a);
    return a;
};
          </code></pre>
          </div>
        </section>

        <section class="valigntop">
          <h2>Leksičko okruženje #2</h2>
          <p>Kada koristimo promenljive iz globalnog opsega...</p>
          <div style="font-size: 27pt;">
          <pre><code class="javascript">
var a = 1;
var closureFunc = function () {
    // The "environment" (the outer scope)
    // determines to which value does the
    // symbol `a` resolve here
    console.log(a);
    return a;
};

closureFunc(); // 1

a = 100;
closureFunc(); // 100

a = 'hello';
closureFunc(); // 'hello'
          </code></pre>
          </div>
        </section>

        <section class="valigntop">
          <h2>Leksičko okruženje #3</h2>
          <p>Okruženje se određuje <strong>u vreme kreiranja</strong> a ne u vreme izvršavanja!</p>
          <div style="font-size: 27pt;">
          <pre><code class="javascript">
var a = 1;
var closureFunc = function () {
    // The "environment" (the outer scope)
    // determines to which value does the
    // symbol `a` resolve here
    console.log(a);
    return a;
};

var anotherFunc = function () {
    var a = 2;
    return closureFunc();
};

anotherFunc(); // 1
          </code></pre>
          </div>
        </section>

        <section class="valigntop">
          <h2>Uobičajen način da kreiramo closure #1</h2>
          <p>Funkcija koja kreira i vraća closure funkciju pri svakom pozivu</p>
          <div style="font-size: 25pt;">
          <pre><code class="javascript">
var getClosureFunc = function () {

    var a = 1;
    var closureFunc = function () {
        // The "environment" (the outer scope)
        // determines to which value does the
        // symbol `a` resolve here
        console.log(a);
        return a;
    };

    return closureFunc;
};

var a = 3;
var clsr = getClosureFunc();

clsr(); // 1
          </code></pre>
          </div>
        </section>

        <section class="valigntop">
          <h2>Uobičajen način da kreiramo closure #2</h2>
          <p>Funkcijski izraz ugradimo u <code>return</code>...</p>
          <div style="font-size: 25pt;">
          <pre><code class="javascript">
var getClosureFunc = function () {

    var a = 1;
    return function () {
        // The "environment" (the outer scope)
        // determines to which value does the
        // symbol `a` resolve here
        console.log(a);
        return a;
    };
};

var a = 3;
var clsr = getClosureFunc();

clsr(); // 1
          </code></pre>
          </div>
        </section>

        <section class="valigntop">
          <h2>Uobičajen način da kreiramo closure #3</h2>
          <p>Closure se kreira kad se vraćamo iz anonimne funkcije</p>
          <div style="font-size: 25pt;">
          <pre><code class="javascript">
var clsr = (function () {

    var a = 1;
    return function () {
        // The "environment" (the outer scope)
        // determines to which value does the
        // symbol `a` resolve here
        console.log(a);
        return a;
    };

}());

var a = 3;

clsr(); // 1
          </code></pre>
          </div>
        </section>

        <section class="valigntop">
          <h2>JavaScript koristi statički/leksički opseg</h2>
          <p>Kako će se razrešiti identifikator u funkciji određuje se <strong>u vreme kreiranja funkcije</strong>.</p>
          <p>Osim za <code>this</code>.</p>
        </section>

        <section class="valigntop">
          <h2>Život opsega</h2>
          <ul>
            <li>Život lokalnih promenljivih ne mora se završiti kada se funkcija završi.</li>
            <li>Ako funkcija koja se vraća kao rezultat koristi bar jednu lokalnu promenljivu, kreira se closure.</li>
            <li>Samo funkcije koje se vrate kao rezultat mogu da pristupe tim promenljivima.</li>
          </ul>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
var x = 999;

var f = function () {
    var x = 222;            // *1
    return function () {
        x += 100;
        return x;           // *2
    };
};

var g = f();                // *3
g();        // 322          // *4
g();        // 422          // *5
          </code></pre>
          </div>
        </section>

        <section class="valigntop">
          <h2>Imenovani funkcijski izrazi</h2>
          <ul>
            <li>Imenovani funkcijski izraz kreira closure sa slobodnom promenljivom tog imena vezanom samu funkciju.</li>
          </ul>
          <div style="font-size: 27pt;">
          <pre><code class="javascript">
var f = function fac(n) {
    if (n === 0) return 1;
    if (n > 0) return n * fac(n - 1);
};

//----- The above code works like: -----

var f = (function () {

    var fac = function (n) {
        if (n === 0) return 1;
        if (n > 0) return n * fac(n - 1);
    };

    return fac;
}());
          </code></pre>
          </div>
        </section>

        <section id="arrays">
          <h1>#4: nizovi</h1>
        </section>


        <section class="valigntop">
          <h2>Nizovi</h2>
          <p>
          <ul>
            <li>Neki <strong>objekti</strong> zovu se <strong>nizovi</strong>.</li>
            <li>Možemo ih inicijalizovati i pomoću literala.</li>
          </ul>
          </p>
          <div style="float:left;width:50%;font-size:30pt;">
            <pre><code class="javascript">
var w = [
    "test",
    1234,
    {},
    [],
    "hi"
];

w[4]; // "hi"  
            </code></pre>  
          </div>
          <div style="float:left;width:50%;font-size:30pt;">
            <pre><code class="javascript">
var w = new Array(5);
w[0] = "test";
w[1] = 1234;
w[2] = new Object();
w[3] = new Array();
w[4] = "hi";


w[4]; // "hi"
            </code></pre>           
          </div>
        </section>

        <section class="valigntop">
          <h2>Dodavanje elementa na kraj niza</h2>
          <ul>
            <li>pomoću metode <code>push</code></li>
            <li>upisivanjem elementa u odgovarajući indeks</li>
          </ul>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
var arr = [ "test", 1234, {}, [], "hi" ];

arr.push("sixth"); // 6
arr.length;        // 6
arr[5];            // "sixth"

arr[7] = 012;      // 10
arr.length;        // 8

arr[6];            // undefined
arr[7];            // 10

arr[8];            // undefined
arr.length;        // 8
          </code></pre>
          </div>
        </section>

        <section class="valigntop">
          <h2>Iteracija kroz niz #1</h2>
          <ul>
            <li>niz ima osobinu <code>length</code></li>
          </ul>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
var arr = [ "test", 1234, {}, [], "hi" ];

for (var i = 0; i < arr.length; i += 1) {
    console.log(arr[i]);
}
          </code></pre>
          </div>
        </section>

        <section class="valigntop">
          <h2>Iteracija kroz niz #2</h2>
          <ul>
            <li>pomoću metode <code>forEach</code></li>
          </ul>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
var arr = [ "test", 1234, {}, [], "hi" ];

arr.forEach(function (val /*, i, arr*/) {
    console.log(val);
});
          </code></pre>
          </div>
        </section>

        <section class="valigntop">
          <h2>Iteracija kroz niz #3</h2>
          <ul>
            <li>pomoću metoda <code>map</code>, <code>some</code>, <code>every</code></li>
          </ul>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
var arr = [ "test", 1234, {}, [], "hi" ];

arr.map(function (val /*, i, arr*/) {
    return typeof val;
});
          </code></pre>
          </div>
          <ul>
            <li><code>map</code> prolazi kroz ceo niz i vraća niz vrednosti izračunatih datom funkcijom</li>
            <li><code>some</code> se zaustavlja kad naiđe na <code>true</code></li>
            <li><code>every</code> se zaustavlja kad naiđe na <code>false</code></li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Iteracija kroz niz #4</h2>
          <ul>
            <li>primer za <code>forEach</code>, <code>map</code>, <code>some</code>, <code>every</code></li>
          </ul>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
var arr1 = [1,3,5,7,9];
var arr2 = [1,2,5,7,9];

var isOdd  = function (n) { return n % 2 === 1 };
var isEven = function (n) { return n % 2 === 0 };
arr1.every(isOdd); // true
arr2.every(isOdd); // false
arr1.some(isEven); // false
arr2.some(isEven); // true

var print = function (n) { console.log(n) };
var addTen = function (n) { return n + 10 };
arr1.forEach(print); // 1, 3, 5, 7, and 9 are printed
arr1.map(addTen);    // [11,13,15,17,19]
          </code></pre>
          </div>
        </section>

        <section class="valigntop">
          <h2>Iteracija kroz objekat #1</h2>
          <ul>
            <li><code>Object.keys</code> vraća sve ključeve - sve nazive osobina</li>
          </ul>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
var obj = { a: "test", b: 1234, c: "hi" };

Object.keys(obj); // [ "a", "b", "c" ]
          </code></pre>
          </div>
        </section>

        <section class="valigntop">
          <h2>Iteracija kroz objekat #1</h2>
          <ul>
            <li>Poziv <code>Object.keys</code> sa <code>map</code> vraća sve vrednosti osobina</li>
          </ul>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
var obj = { a: "test", b: 1234, c: "hi" };

Object.keys(obj).map(function (key) {
    return obj[key];
});
// [ "test",
//    1234,
//    "hi" ]
          </code></pre>
          </div>
        </section>

        <section id="inheritance">
          <h1>#5: prototipsko nasleđivanje</h1>
        </section>

        <section class="valigntop">
          <h2>Tipovi podataka u JavaScriptu</h2>
          <ul>
            <li>undefined <span class="fragment yellow" data-fragment-index="1">neinteresantan</span></li>
            <li>null <span class="fragment yellow" data-fragment-index="1">neinteresantan</span></li>
            <li>logički <span class="fragment yellow" data-fragment-index="2">koristan</span></li>
            <li>broj <span class="fragment yellow" data-fragment-index="2">koristan</span></li>
            <li>string <span class="fragment yellow" data-fragment-index="2">koristan</span></li>
            <li>objekat <span class="fragment yellow" data-fragment-index="3">&lt;-- vrlo interesantan!</span></li>
          </ul>
          <p class="fragment" data-fragment-index="3">Objekat omogućava pravljenje organizovanih i ugnježdenih <strong>struktura</strong>.</p>
        </section>

        <section class="valigntop">
          <h2>Tip objekat se može razvrstati</h2>
          <ul>
            <li><code>Object</code></li>
            <li><code>Function</code></li>
            <li><code>Array</code></li>
            <li class="fragment" data-fragment-index="2"><code>Date</code></li>
            <li class="fragment" data-fragment-index="2"><code>RegExp</code></li>
            <li class="fragment" data-fragment-index="2"><code>Error</code></li>
            <li class="fragment" data-fragment-index="3"><code>Boolean</code></li>
            <li class="fragment" data-fragment-index="3"><code>String</code></li>
            <li class="fragment" data-fragment-index="3"><code>Number</code></li>
          </ul>
          <p class="fragment" data-fragment-index="2">Ima više podvrsta.</p>
          <p class="fragment" data-fragment-index="3">Wrapper objekti, slično kao u Javi.</p>
        </section>

        <section class="valigntop">
          <h2>Primitivni tipovi vs objekti</h2>
          <ul>
            <li>wrapper objekti imaju svoje osobine i metode</li>
          </ul>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
( true  ).toString(); // "true"
( false ).toString(); // "false"

( 3.14 ).toString();  // "3.14"
( 3.14 ).toFixed();   // "3"

( "Hello" ).length;           // 5
( "Hello" ).toUpperCase();    // "HELLO"
( "HELLO" ).slice(1, -1);     // "ELL"
( "Hello world" ).split("o"); // [ "Hell", " w", "rld" ]
          </code></pre>
          </div>
        </section>

        <section class="valigntop">
          <h2>Konstruktor</h2>
          <ul>
            <li>svaka vrsta objekta ima konstruktor</li>
            <li>poziva se pomoću <code>new</code> operatora ili pomoću literala</li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Konstruktor</h2>
          <ul>
            <li><strong>Konstruktor</strong> je <strong>funkcija</strong> koja ima <strong>osobinu</strong> <code>prototype</code> koja se koristi za nasleđivanje i deljene osobine</li>
            <li>vrednost osobine <code>prototype</code> je ili <code>null</code> ili referenca na objekat</li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Primer konstrukcije objekta: kreiramo niz #1</h2>
          <ul>
            <li>ugrađeni objekat <code>Array</code> se koristi za kreiranje novog niza</li>
            <li>objekat <code>Array.prototype</code> već sadrži dosta osobina:<br/> <code>length</code>, <code>map</code>, <code>toString</code>, <code>forEach</code>, <code>indexOf</code>, <code>filter</code>, ...</li>
          </ul>
          <img src="img/javascript/pic08.svg" class="clean" width="50%"/>
        </section>

        <section class="valigntop">
          <h2>Primer konstrukcije objekta: kreiramo niz #2</h2>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">var x = new Array(2);</code></pre>
          </div>
          <img src="img/javascript/pic09.svg" class="clean" width="50%"/>
          <ul>
            <li>kada se izvrši <code>new</code>, objekat se kreira sa osobinama koje definiše konstruktor</li>
            <li>npr. osobinu <code>length</code> je postavio <code>Array</code></li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Primer konstrukcije objekta: kreiramo niz #3</h2>
          <div style="font-size: 30pt;">
          <pre><code>var x = new Array(2);</code></pre>
          </div>
          <img src="img/javascript/pic10.svg" class="clean" width="50%"/>
          <ul>
            <li>zatim se <strong>prototip</strong> objekta postavi na <code>Array.prototype</code></li>
            <li>ova interna osobina zove se <code>[[Prototype]]</code></li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Osobine prototype i [[Prototype]]</h2>
          <ul>
            <li>svaki JavaScript objekat ima internu osobinu <code>[[Prototype]]</code><br/><br/></li>
            <li>koja se <span style="color:#333333">(najčešće)</span> poklapa sa osobinom <code>prototype</code> njegovog konstruktora<br/><br/></li>
            <li>reći ćemo <strong>X-ov prototip</strong> misleći na objekat ili <code>null</code> na koju pokazuje <code>[[Prototype]]</code> osobina od X</li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Pojam nasleđivanja</h2>
          <ul>
            <li>objekat <strong>nasleđuje</strong> osobine od svog <strong>prototipa</strong></li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Osobine objekta i lanac prototipova</h2>
          <p>Za <strong>čitanje</strong> osobine <code>X</code> objekta <code>Y</code>:</p>
          <ol>
            <li>ako <code>Y</code> ima osobinu <code>X</code>, vrati njenu vrednost</li>
            <li>ako je <code>Y</code>-ov prototip jednak <code>null</code>, vrati <code>undefined</code></li>
            <li>vrati vrednost osobine <code>X</code> <code>Y</code>-ovog prototipa</li>
          </ol>
          <p>Za <strong>upis</strong> osobine <code>X</code> objekta <code>Y</code> sa vrednošću <code>Z</code>:</p>
          <ol>
            <li>ako <code>Y</code> nema osobinu <code>X</code>, kreiraj novu osobinu</li>
            <li>upiši vrednost <code>Z</code> u novu osobinu <code>X</code> objekta <code>Y</code></li>
          </ol>
        </section>

        <section class="valigntop">
          <h2>Sopstvena i nasleđena osobina</h2>
          <ul>
            <li><strong>sopstvenu</strong> osobinu objekat direktno sadrži</li>
            <li><strong>nasleđenu</strong> osobinu objekat ne sadrži direktno, već je ona osobina (sopstvena ili nasleđena) objektovog prototipa</li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Primer nasleđenih osobina</h2>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
var arr = [ 11, 22 ];

arr.length;                       // 2
arr.toString();                   // "11,22"
arr.map(function(n){return n+1}); // [ 12, 23 ]


arr.hasOwnProperty('length');     // true
arr.hasOwnProperty('toString');   // false
arr.hasOwnProperty('map');        // false
Array.prototype.hasOwnProperty('toString'); // true
Array.prototype.hasOwnProperty('map');      // true
          </code></pre>
          </div>
          <ul>
            <li>za objekat <code>arr</code>:</li>
            <li><code>length</code> je sopstvena osobina</li>
            <li><code>toString</code> i <code>map</code> su nasleđene</li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Pisanje novog konstruktora</h2>
          <div style="font-size: 27pt;">
          <pre><code class="javascript">
var Cat = function (name) {
    if (name) this.name = name;
};
Cat.prototype.name = 'Nyan Cat';
Cat.prototype.meow = function () {
    return 'Meow~  I am ' + this.name;
};

var pusheen = new Cat('Pusheen the cat');


var nyancat = new Cat;  // () can be omitted when no args

pusheen.meow(); // "Meow~  I am Pusheen the cat"
nyancat.meow(); // "Meow~  I am Nyan Cat"
          </code></pre>
          </div>
          <ul>
            <li>identifikator <code>this</code> pokazuje na novi objekat</li>
            <li>kada se funkcija pozove kao konstruktor</li>
            <li>pomoću operatora <code>new</code></li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Nešto lakši način za kreiranje objekata</h2>
          <div style="font-size: 30pt;">
          <pre><code class="javascript">
var catPrototype = {
    name: 'Nyan Cat',
    meow: function () {
        return 'Meow~  I am ' + this.name;
    }
};

var pusheen = Object.create(catPrototype);
pusheen.name = 'Pusheen the cat';

var nyancat = Object.create(catPrototype);

pusheen.meow(); // "Meow~  I am Pusheen the cat"
nyancat.meow(); // "Meow~  I am Nyan Cat"
          </code></pre>
          </div>
          <ul>
            <li>kreiranje objekta sa direktno navedenim prototipom</li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Razne vrste objekata</h2>
          <p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">MDN JavaScript Reference</a> sadrži detalje o korišćenju ugrađenih objekata: <code>Object</code>, <code>Function</code>, <code>Array</code>, <code>String</code>, <code>Date</code>, <code>RegExp</code>, ...</p>
        </section>

        <section id="global">
          <h1>#6: globalni objekat</h1>
        </section>

        <section class="valigntop">
          <h2>Globalni objekat</h2>
          <ul>
            <li><strong>globalni objekat</strong> čuva sve ECMAScript ugrađene objekte</li>
            <li><strong>globalna promenljiva</strong> se čuva u globalnom objektu kao osobina</li>
            <li>npr. konstruktori <code>Object</code>, <code>Array</code>, itd. su osobine globalnog objekta</li>
            <li>funkcije kao što je <code>setTimeout</code> su takođe osobine globalnog objekta</li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Pristup globalnom objektu</h2>
          <ul>
            <li><code>this</code> u globalnom opsegu kada interpreter nije u <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode" target="_blank">striktnom modu</a></li>
            <li><code>window</code> u web čitaču</li>
            <li><code>global</code> u Node.js<br/><br/></li>
            <li>osobina globalnog objekta dostupna je direktno pod svojim imenom ako neka druga promenljiva nije zauzela to ime u globalnom opsegu</li>
          </ul>
        </section>

        <section id="varnovar">
          <h1>#7: sa var i bez var</h1>
        </section>

        <section class="valigntop left">
          <h2>Deklaracija promenljive sa i bez var</h2>
          <div style="font-size:30pt;"><pre><code class="javascript">
var myNewVar = 1;     // using var to declare a variable.
myOtherNewVar = 2;    // var is optional.
alert(myNewVar);      // will alert 1
alert(myOtherNewVar); // will alert 2
          </code></pre></div>
          <p>Ključna reč <code>var</code> nije obavezna prilikom deklaracije promenljive.<br/> Kada se promenljiva deklariše bez <code>var</code>, interpreter podrazumeva da koristimo promenljivu u višem opsegu od trenutnog. Ako je tamo ne nađe, tražiće je uz lanac opsega sve do globalnog opsega. Ako je ne nađe ni tamo, dodaće novu promenljivu u globalni opseg.</p>
          <p>Deklaracija promenljive sa <code>var</code> smešta promenljivu uvek u tekući opseg.</p>
        </section>

        <section class="valigntop">
          <h2>Deklaracija promenljive sa i bez var</h2>
          <p>Deklaracija u globalnom opsegu</p>
          <div style="width:70%;margin-left:15%;"><pre><code class="javascript">
function testScope() {
    myTest = true; // now myTest is global.
    alert(myTest);
}
testScope();  // will alert "true"
alert(myTest); // will alert "true" as well, because now myTest is global.
          </code></pre></div>
          <p>Ograničavanje opsega sa <code>var</code></p>
          <div style="width:70%;margin-left:15%;"><pre><code class="javascript">
function testScope() {
    var myTest = true;
    function testNestedScope() {
        var myTest = false;
        alert(myTest);
    }
    testNestedScope();
    alert(myTest);
}
testScope(); // will alert false, and then true.
          </code></pre></div>
        </section>

        <section class="valigntop">
          <h2>Deklaracija promenljive sa i bez var</h2>
          <p>Pristup promenljivoj pre deklarisanja</p>
          <div style="width:50%;margin-left:25%;"><pre><code class="javascript">
function testScope() {
    var myTest = true;
    function testNestedScope() {
        alert(myTest);
        var myTest = false;
    }
    testNestedScope();
    alert(myTest);
}
testScope(); // will alert "undefined", and then true.
          </code></pre></div>
          <p>Eksplicitna verzija prethodnog listinga</p>
          <div style="width:50%;margin-left:25%;"><pre><code class="javascript">
function testScope() {
    var myTest = true;
    function testNestedScope() {
        var myTest;
        alert(myTest);
        myTest = false;
    }
    testNestedScope();
    alert(myTest);
}
testScope(); // will alert "undefined", and then true.
          </code></pre></div>
        </section>

        <section id="thisthat">
          <h1>#8: var that = this</h1>
        </section>

        <section class="valigntop">
          <h2>var that = this</h2>
          <div style="font-size:30pt;"><pre><code class="javascript">
var colors = ['red', 'green', 'blue'];

document.getElementById('element').addEventListener('click', function() {
   
    // this je referenca na element koji je primio klik

    var that = this;

    colors.forEach(function() {
        // this je undefined
        // that je referenca na element koji je primio klik
    });
});
          </code></pre></div>
          <p>Vrlo česta zakrpa :(</p>
        </section>

        <section id="currying">
          <h1>#9: currying</h1>
        </section>

        <section class="valigntop">
          <h2>Poreklo JavaScripta</h2>
          <img src="img/javascript/pic11.svg" class="clean" width="65%"/>
        </section>

        <section class="valigntop">
          <h2>λ funkcija</h2>
          <ul>
            <li>tzv. anonimna funkcija</li>
            <li>deo matematike zvane λ-račun</li>
            <li>koja se bavi pojednostavljivanjem izraza u λ-izraze</li>
            <li>radi otkrivanja prave prirode računskih operacija</li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>λ funkcija</h2>
          <ul>
            <li>na primer funkcija:<br/> <code class="javascript">cube(x) = x * x * x</code></li>
            <li>može se iskazati bez imena:<br/> <code>(x) → x * x * x</code></li>
            <li>i može imati samo jedan argument</li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Currying</h2>
          <ul>
            <li>funkcije sa više argumenata</li>
            <li>moraju prvo proći proces koji se zove <strong>currying</strong>:</li>
            <li>transformacija funkcije sa više argumenata na takav način da se može pozvati kao lanac funkcija, svaka sa po jednim argumentom<br/><br/><br/></li>
            <li>Haskell Curry (1900-1982)</li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Currying</h2>
          <ul>
            <li>npr. funkcija<br/><code>(x, y) → x + y</code></li>
            <li>se može transformisati u<br/> <code>x → (y → x + y)</code><br/><br/><br/></li>
            <li>ili u klasičnoj notaciji<br/> <code>f(x, y) = x + y</code></li>
            <li>se transformiše u<br/> <code>g(y) = y → f(x, y)</code></li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Currying u JavaScriptu</h2>
          <div style="width:40%;margin-left:30%;font-size:30pt;"><pre><code class="javascript">
function f(x, y) {
    return x + y;
}
          </code></pre></div>
          <p>će postati:</p>
          <div style="width:40%;margin-left:30%;font-size:30pt;"><pre><code class="javascript">
function g(x) {
    return function(y) {
        return x + y;
    };
}
          </code></pre></div>
          <p>Provera:</p>
          <div style="width:40%;margin-left:30%;font-size:30pt;"><pre><code class="javascript">
f(1, 2) === g(1)(2)
          </code></pre></div>
        </section>

        <section class="valigntop">
          <h2>Currying u JavaScriptu</h2>
          <p>Pošto su funkcije first-class objects, može i ovako:</p>
          <div style="width:40%;margin-left:30%;font-size:30pt;"><pre><code class="javascript">
function g(h) {
    return function(y) {
        return h(h(y));
    };
}
          </code></pre></div>
          <p>Provera:</p>
          <div style="width:40%;margin-left:30%;font-size:30pt;"><pre><code class="javascript">
81 === g(function(x) {
    return x * x;
})(3);
          </code></pre></div>
        </section>

        <section class="valigntop">
          <h2>Parcijalna aplikacija</h2>
          <p>Ako damo samo jedan argument funkciji...</p>
          <div style="width:40%;margin-left:30%;font-size:30pt;"><pre><code class="javascript">
function g(h) {
    return function(y) {
        return h(h(y));
    };
}

var n = g(function(x) {
    return x * x;
});
          </code></pre></div>
          <p>Možemo je koristiti više puta:</p>
          <div style="width:40%;margin-left:30%;font-size:30pt;"><pre><code class="javascript">
337 === n(3) + n(4);
          </code></pre></div>
          <p>Ovo se zove <strong>parcijalna aplikacija</strong> i nije isto što i currying.</p>
        </section>

        <section class="valigntop">
          <h2>Funkcije sa više argumenata</h2>
          <p>Za funkciju sa više od 2 argumenta</p>
          <div style="width:40%;margin-left:30%;font-size:30pt;"><pre><code class="javascript">
function f(x, y, z) {
    return x + y + z;
}
          </code></pre></div>
          <p>Pravilan način za parcijalnu aplikaciju je kroz <code>bind</code></p>
          <div style="width:40%;margin-left:30%;font-size:30pt;"><pre><code class="javascript">
var f1 = f.bind(null, 1);
          </code></pre></div>
          <p>Poziv parcijalno apliciranoj funkciji vraća rezultat, a ne sledeću funkciju u lancu!</p>
          <div style="width:40%;margin-left:30%;font-size:30pt;"><pre><code class="javascript">
6 === f1(2, 3);
          </code></pre></div>
        </section>

        <section id="quiz">
          <h1>Kviz</h1>
          <p><small><a href="files/javascript/cheat-sheet.js" target="_blank">cheat-sheet.js</a></small></p>
        </section>

        <section class="valigntop">
          <h2>Kviz #1: poređenje brojeva</h2>
          <p>Vrednost ovog izraza je <code>true</code>:</p>
          <div style="width:30%;margin-left:35%;font-size:30pt;"><pre><code class="javascript">(1 + 2 === 3)</code></pre></div>
          <p>Vrednost ovog izraza je <code>false</code>:</p>
          <div style="width:30%;margin-left:35%;font-size:30pt;"><pre><code class="javascript">(0.1 + 0.2 === 0.3)</code></pre></div>
          <p>Objasni zašto.</p>
        </section>

        <section class="valigntop">
          <h2>Kviz #2: vrednosti, reference, promenljive</h2>
          <p>Nakon izvršavanja sledećeg koda:</p>
          <div style="width:30%;margin-left:35%;font-size:30pt;"><pre><code class="javascript">a = 3; b = a; b = 4;</code></pre></div>
          <p>vrednost <code>a</code> je i dalje 3, bez obzira na <code>b</code>. Ali nakon izvršavanja:</p>
          <div style="width:30%;margin-left:35%;font-size:30pt;"><pre><code class="javascript">a.x = 3; b = a; b.x = 4;</code></pre></div>
          <p>vrednost <code>a.x</code> postaje 4. Objasni zašto.</p>
        </section>

        <section class="valigntop">
          <h2>Kviz #3: parametri funkcija</h2>
          <p>Ugrađena funkcija <code>parseInt</code> u globalnom objektu pretvara string u broj. Na primer: </p>
          <div style="width:60%;margin-left:20%;font-size:25pt;"><pre><code class="javascript">parseInt('31')</code></pre></div>
          <p>To radi i za različite osnove:</p>
          <div style="width:60%;margin-left:20%;font-size:25pt;"><pre><code class="javascript">parseInt('A', 16); // 10
parseInt('11', 8); // 9</code></pre></div>
          <p>Za dati niz i wrapper funkciju:</p>
          <div style="width:60%;margin-left:20%;font-size:25pt;"><pre><code class="javascript">var arr = ['3', '4', '5', '6'];
var myParseInt = function (n) {
  return parseInt(n);
};</code></pre></div>
          <p>Rezultat ovih poziva je neočekivan:</p>
          <div style="width:60%;margin-left:20%;font-size:25pt;"><pre><code class="javascript">arr.map(myParseInt); // [3, 4, 5, 6]
arr.map(parseInt);   // [3, NaN, NaN, NaN]</code></pre></div>
          <p>Objasni zašto.</p>
        </section>

        <section class="valigntop">
          <h2>Kviz #4: životni vek promenljive</h2>
          <p>U JavaScriptu, kada se funkcija pozove, neće uvek raditi tako što će lokalne promenljive čuvati na steku. Zašto?<p>

          <p>Napomena: Lokalne promenljive i parametri se skidaju sa steka prilikom povratka iz funkcije.</p>
        </section>

        <section class="valigntop">
          <h2>Kviz #5: leksički opseg i closure</h2>
          <p>Realne primene JavaScripta često koriste <em>single-threaded</em> JavaScript interpreter koji ima <em>event loop</em> i <em>job queue</em>. Funkcija <code>setTimeout</code> prima dva parametra:<p>
          <div style="width:40%;margin-left:30%;font-size:25pt;"><pre><code class="javascript">setTimeout(callbackfunc, millisec)</code></pre></div>
          <p>Prilikom poziva funkcija dodaje novi event i vraća se. Kada istekne <code>millisec</code>, u job queue se dodaje funkcija <code>callbackfunc</code>. Kada dođe na red u job queue, funkcija će biti pozvana. Recimo da smo hteli da ispišemo brojeve 1, 2, 3, 4, 5 posle 1, 2, 3, 4, 5 sekundi:</p>
          <div style="width:40%;margin-left:30%;font-size:25pt;"><pre><code class="javascript">for (var i = 1; i <= 5; i += 1) {
  setTimeout(function () {
    console.log(i);
  }, i * 1000);
}</code></pre></div>
          <div style="float:left;width:50%">
            <p>Dobijen je rezultat:</p>
            <pre><code>6   (printed after 1 second)
6   (printed after 2 seconds)
6   (printed after 3 seconds)
6   (printed after 4 seconds)
6   (printed after 5 seconds)</code></pre>
          </div>
          <div style="float:left;width:50%">
            <small style="vertical-align:bottom">
            <ol>
              <li>zašto se to desilo?</li>
              <li>kako bismo ispravili problem uz zadržavanje for petlje?</li>
              <li>napravi rešenje pomoću <code>Array.prototype.forEach</code></li>
            </ol>
            </small>
          </div>
        </section>

        <section class="valigntop">
          <h2>Kviz #6: prototipovi, nasleđivanje i this</h2>
          <p>Jedan način da podelimo string u niz karaktera je da pozovemo <code>Array.prototype.slice</code> za string objekat:</p>
          <div style="width:80%;margin-left:10%;font-size:30pt;"><pre><code class="javascript">String.prototype.sliceAsAnArray = Array.prototype.slice;
('hello').sliceAsAnArray(); // [ 'h', 'e', 'l', 'l', 'o' ]
('world').sliceAsAnArray(); // [ 'w', 'o', 'r', 'l', 'd' ]</code></pre></div>
          <p>Prilikom poziva <code>sliceAsAnArray</code>, <code>this</code> pokazuje na anonimni string objekat. <code>Array.prototype.slice</code> će to iseći na delove</p> 
          <div style="width:80%;margin-left:10%;font-size:30pt;"><pre><code class="javascript">this[0], this[1], this[2], ..., this[this.length - 1]</code></pre></div>
          <p>Zašto ovo radi kako treba? Napomena: proveri svrhu <code>call</code> i <code>apply</code> metoda za funkcije.</p>
        </section>

        <section class="valigntop">
          <h2>Kviz #7: OOP bez new operatora - factory function</h2>
          <p>Napiši funkciju koja liči na konstruktor koja kreira novi objekat za svaki poziv bez korišćenja <code>new</code> operatora.</p>
          <p>Ne zaboravi prototipsko nasleđivanje tako da sve zajedničke osobine mogu biti deljene preko roditeljskog objekta.</p>
          <p>Napomena: <code>Object.create(proto)</code> vraća novi objekat sa njegovom osobinom <code>[[Property]]</code> inicijalizovanom na parametar <code>proto</code>.</p>
        </section>

        <section class="valigntop">
          <h2>Kviz #8: OOP sa privatnim osobinama</h2>
          <p>Napiši factory funkciju koja proizvodi objekte sa osobinama koje su dostupne samo njegovim metodama. Na primer, ako kreiramo objekat na sledeći način:</p>
          <div style="width:40%;margin-left:30%;font-size:25pt;"><pre><code class="javascript">var myobj = createMyObjectFactory({
    param1: 100,
    param2: "test",
    param3: true
});</code></pre></div>
          <p>U objektu <code>myObj</code> postojaće i privatna osobina <code>counter</code> koja čuva broj poziva metode <code>myObj.getData()</code> i metoda <code>myObj.getCounter</code> koja vraća vrednost <code>counter</code>. Dakle, izraz <code>myObj.counter</code> treba da vrati <code>undefined</code> ali <code>myObj.getCounter()</code> treba da vrati tekući broj poziva:</p>
          <div style="width:40%;margin-left:30%;font-size:25pt;"><pre><code class="javascript">myobj.getData();
myobj.getData();
myobj.getData();
myobj.counter;      // undefined
myobj.getCounter(); // 3</code></pre></div>
          <p>Napomena: closure.</p>
        </section>

        <section>
          <h3>Kraj dela</h3>
          <p><a href="#/">← Početak dela</a></p>
          <p><a href="index.html#/1">⇐ Početak kursa</a></p>
        </section>


      </div>
    </div>
    <div id="overlay"></div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
      // More info https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        history: true,

        // 16:9 aspect ratio
        width: 1280,
        height: 720,
        margin: 0.02,

        // don't piss people off
        transition: 'none',

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
          { src: 'plugin/markdown/marked.js' },
          { src: 'plugin/markdown/markdown.js' },
          { src: 'plugin/notes/notes.js', async: true },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
        ]
      });

      // moze i pomocu
      // window.onhashchange = function() {
      //   ...
      // }
      Reveal.addEventListener('slidechanged', function(event) {
        var overlayDiv = document.getElementById("overlay");
        var currSlide = Reveal.getCurrentSlide();
        var overlayImg = currSlide.getAttribute("overlay");
        if (overlayImg != null) {
          alert('x');
          overlayDiv.style.display = 'block';
          overlayDiv.style.backgroundImage = 'url("' + overlayImg + '")';
          overlayDiv.style.zIndex = 1;
        } else {
          overlayDiv.style.display = 'none';
          overlayDiv.style.zIndex = -1;
        }
      });

    </script>
  </body>
</html>
<!--

Obicne stvari
http://www.teaching-materials.org/javascript/

Neobicne stvari
https://slides.com/concise/js/fullscreen#/
https://gist.github.com/concise/a20b3e5d7e9c61dfbcc5
http://slides.com/gsklee/functional-programming-in-5-minutes#/

Good parts vs bad parts
http://johnkpaul.github.io/presentations/empirejs/javascript-bad-parts/#/

http://brendaneich.github.io/Strange-Loop-2012/#/

http://es6-features.org

https://hackernoon.com/how-it-feels-to-learn-javascript-in-2016-d3a717dd577f
-->
