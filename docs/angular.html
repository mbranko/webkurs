<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Angular</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/branko.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">

        <section class="vcenter">
          <h1>Angular</h1>
          <p>
            <small><a href="http://mbranko.github.io/webkurs">http://mbranko.github.io/webkurs</a></small>
          </p>
          <p>
            <small>Ovo je deo <a href="index.html#/1">web kursa</a></small>
          </p>
        </section>

        <section class="valigntop">
          <h2>Literatura</h2>
          <ul>
            <li>Nate Murray, Felipe Coury, Ari Lerner, Carlos Taborda.<br/> <i>ng-book: The Complete Book on Angular</i>.<br/> <a href="https://www.ng-book.com/2n/" target="_blank">https://www.ng-book.com</a></li>
            <li>Single Page Apps in Depth. <a href="http://singlepageappbook.com" target="_blank">http://singlepageappbook.com</a></li>
            <li>SPA and the Single Page Myth. <a href="https://johnpapa.net/pageinspa/" target="_blank">https://johnpapa.net/pageinspa/</a></li>
          </ul>
        </section>

        <section>
          <h1>#1: SPA</h1>
        </section>

        <section class="valigntop">
          <h2>Single page applications</h2>
          <ul>
            <li>koncept: MVC arhitektura unutar web čitača</li>
            <li>sličan kao okruženja za desktop aplikacije</li>
            <li>Java Swing, .NET WPF, Qt...</li>
            <li>web čitač kao univerzalna platforma za korisnički interfejs</li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Šta je Angular</h2>
          <ul>
            <li>framework za razvoj klijentskih web aplikacija</li>
            <li>nastao u Google, sada open source projekat</li>
            <li>verzije:</li>
            <ul>
              <li>verzija 1: AngularJS <a href="https://angularjs.org" target="_blank">https://angularjs.org</a></li>
              <li>verzija 2 i više: Angular <a href="https://angular.io" target="_blank">https://angular.io</a></li>
            </ul>
            <li>drastične izmene između v1 i v2</li>
            <li>kasnije izmene evolutivne</li>
          </ul>
        </section>

        <section>
          <h1>#2: Angular CLI</h1>
        </section>

        <section class="valigntop left">
          <h2>Angular CLI</h2>
          <ul>
            <li><a href="https://cli.angular.io" target="_blank">https://cli.angular.io</a></li>
            <li>alat za razvoj Angular aplikacija</li>
            <li>koristi se iz komandne linije</li>
            <li>olakšava:</li>
            <ul>
              <li>kreiranje projekta</li>
              <li>dodavanje novih fajlova</li>
              <li>testiranje u web čitaču</li>
              <li>izvršavanje razvojnih zadataka: testiranje, deployment...</li>
            </ul>
          </ul>
          <div style="font-size:30pt;"><pre><code class="bash">
sudo npm install -g @angular/cli
ng new hello-world
cd hello-world
ng serve
# --&gt; http://localhost:4200
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Angular CLI</h2>
          <ul>
            <li>omogućava efikasan rad</li>
            <li>forsira stilske preporuke Angular tima:</li>
            <ul>
              <li>sintaksne konvencije, organizacija aplikacije (struktura foldera...)</li>
              <li>unifikovana i pregledna struktura aplikacije</li>
              <li>veoma važno kod kompleksnih aplikacija</li>
              <li><a href="https://angular.io/guide/styleguide" target="_blank">Angular Style Guide</a></li>
            </ul>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Instalacija Angular CLI</h2>
          <ul>
            <li>preduslov je instaliran <a href="https://nodejs.org" target="_blank">Node.js</a></li>
            <li>instalacija Angular CLI:</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="bash">
sudo npm install -g @angular/cli
          </code></pre></div>
          <ul>
            <li>možda je potreban restart komandne linije</li>
            <li>sve komande počinju sa <code>ng</code></li>
            <li><code>ng help</code> za početak</li>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Kreiranje nove aplikacije</h2>
          <ul>
            <li>pozicionirati se u folder gde će se kreirati nova aplikacija</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="bash">
ng new moja-aplikacija
          </code></pre></div>
          <ul>
            <li>kreira se podfolder <code>moja-aplikacija</code> sa fajlovima</li>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Pokretanje nove aplikacije</h2>
          <ul>
            <li>pozicionirati se u folder gde će je kreirana aplikacija</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="bash">
cd moja-aplikacija
ng serve
          </code></pre></div>
          <ul>
            <li>aplikacija je dostupna na <a href-"http://localhost:4200" target="_blank">http://localhost:4200</a></li>
            <li>izmene u kodu će se automatski kompajlirati i prikazati u web čitaču</li>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Editor za TypeScript</h2>
          <ul>
            <li><a href="https://www.sublimetext.com/3" target="_blank">Sublime Text 3</a> sa TypeScript paketom</li>
            <li><a href="https://code.visualstudio.com" target="_blank">Visual Studio Code</a> sa TypeScript paketom</li>
            <li><a href="http://www.jetbrains.com/webstorm/" target="_blank">JetBrains WebStorm</a></li>
          </ul>
        </section>

<!--
        <section class="valigntop left">
          <h2>Kreiranje projekta</h2>
          <div style="font-size:30pt;"><pre><code class="bash">
ng new moja-aplikacija
          </code></pre></div>
          <ul>
            <li>kreira foldere i fajlove</li>
            <li>konfiguracija za TypeScript i Typings</li>
            <li>uključivanje biblioteka
              <ul>
                <li>Angular</li>
                <li>Rx.js</li>
                <li>System.js</li>
              </ul>
            </li>
            <li>konfiguracija za System.js</li>
            <li>kreiranje osnovne komponente</li>
            <li>bootstrap aplikacije</li>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Struktura projekta</h2>
          <div style="font-size:28pt;"><pre><code class="text">
|- e2e/            # end-to-end testovi
|- node_modules/   # npm moduli
|- dist/           # aplikacija za distribuciju
|- src/            # kod aplikacije
    |-- app/
        |--- app-routing.module.ts
        |--- app.component.css|html|spec.ts|ts
        |--- app.module.ts
    |-- favicon.ico
    |-- index.html
    |-- main.ts
    |-- polyfills.ts
    |-- styles.css
    |-- test.ts
    |-- tsconfig.app.json|spec.json
|- .angular-cli.json
|- .editorconfig
|- .gitignore
|- karma.conf.json
|- protractor.conf.json
|- package.json
|- tslint.json
|- tsconfig.json
          </code></pre></div>
        </section>

        <section class="valigntop">
          <h2>Pokretanje projekta</h2>
          <div style="font-size:30pt;"><pre><code class="bash">
ng serve
          </code></pre></div>
          <img src="img/angular/angular01.png" width="50%" class="clean"/>
        </section>

        <section class="valigntop left">
          <h2>Pokretanje projekta</h2>
          <ul>
            <li><code>.angular-cli.json</code> određuje početni fajl, to je <code>main.ts</code></li>
            <li><code>main.ts</code> je početna tačka i pokreće (<em>bootstraps</em>) aplikaciju</li>
            <li>bootstrap proces pokreće Angular modul</li>
            <li>u pitanju je <code>AppModule</code> u <code>src/app/app.module.ts</code></li>
            <li><code>AppModule</code> određuje komponentu najvišeg nivoa za našu aplikaciju</li>
            <li>to je <code>AppComponent</code> komponenta</li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Priprema za produkciju</h2>
          <div style="font-size:30pt;"><pre><code class="bash">
ng build --target=production --base-href '/'
          </code></pre></div>
          <p>Rezultat je u <code>dist</code> folderu.</p>
        </section>
-->
        <section>
          <h1>#3: komponente</h1>
        </section>

        <section class="valigntop left">
          <h2>Pojam komponente</h2>
          <ul>
            <li>Angular aplikacije se sastoje iz komponenti</li>
            <ul>
              <li>komponenta je odgovorna za deo korisničkog interfejsa - "deo ekrana"</li>
              <li>prikaz i funkcionalnost dela UI-ja za koji je zadužena</li>
            </ul>
            <li><code>AppComponent</code> - korenska komponenta koja sadrži sve ostale</li>
          </ul>
          <center>
            <img src="img/angular/ang01.svg" width="60%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Osnovni HTML fajl projekta</h2>
          <div style="font-size:28pt;"><pre><code class="html">
&lt;!-- src/index.html --&gt;

&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset=&quot;utf-8&quot;&gt;
  &lt;title&gt;HelloWorld&lt;/title&gt;
  &lt;base href=&quot;/&quot;&gt;

  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
  &lt;link rel=&quot;icon&quot; type=&quot;image/x-icon&quot; href=&quot;favicon.ico&quot;&gt;
&lt;/head&gt;
&lt;body&gt;

  &lt;-- komponenta koja predstavlja našu aplikaciju --&gt;
  &lt;app-root&gt;Loading...&lt;/app-root&gt; 

&lt;/body&gt;
&lt;/html&gt;
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Kreiranje komponente</h2>
          <div style="font-size:30pt;"><pre><code class="bash">
$ ng generate component moja-komponenta
installing component
  create src/app/moja-komponenta/moja-komponenta.component.css
  create src/app/moja-komponenta/moja-komponenta.component.html
  create src/app/moja-komponenta/moja-komponenta.component.spec.ts
  create src/app/moja-komponenta/moja-komponenta.component.ts
          </code></pre></div>

          <div style="font-size:30pt;"><pre><code class="bash">
$ ng generate component folder/komponenta
installing component
  create src/app/folder/komponenta/komponenta.component.css
  create src/app/folder/komponenta/komponenta.component.html
  create src/app/folder/komponenta/komponenta.component.spec.ts
  create src/app/folder/komponenta/komponenta.component.ts
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Komponenta</h2>
          <ul>
            <li>Komponenta je <strong>klasa</strong> sa <code>@Component</code> dekoratorom</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="typescript">// src/app/hello-world/hello-world.component.ts

import { Component, OnInit } from '@angular/core';

@Component({
  selector: 'app-hello-world',
  templateUrl: './hello-world.component.html',
  styleUrls: ['./hello-world.component.css']
})
export class HelloWorldComponent implements OnInit {

  constructor() { }

  ngOnInit() {
  }

}</code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Komponenta</h2>
          <ul>
            <li><code>templateUrl</code> ili <code>template</code>: prikaz komponente</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;!-- src/app/hello-world/hello-world.component.html --&gt;

&lt;p&gt;
  hello-world works!
&lt;/p&gt;
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Korišćenje komponente</h2>
          <ul>
            <li>HTML tag komponente dodamo u templejt druge komponente</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;!-- src/app/app.component.html --&gt;

&lt;h1&gt; 
  {{title}}
  &lt;app-hello-world&gt;&lt;/app-hello-world&gt; 
&lt;/h1&gt;
          </code></pre></div>
        </section>

        <section class="valigntop">
          <h2>Korišćenje komponente</h2>
          <img src="img/angular/angular02.png" width="50%" class="clean"/>
        </section>

        <section class="valigntop left">
          <h2>Komponenta i podaci</h2>
          <div style="font-size:30pt;"><pre><code class="bash">
ng generate component user-item
          </code></pre></div>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;!-- src/app/app.component.html --&gt;

&lt;h1&gt; 
  {{title}}
  &lt;app-hello-world&gt;&lt;/app-hello-world&gt; 
  &lt;app-user-item&gt;&lt;/app-user-item&gt;
&lt;/h1&gt;
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Komponenta i podaci</h2>
          <div style="font-size:30pt;"><pre><code class="typescript">// src/app/user-item/user-item.component.ts

import { Component, OnInit } from '@angular/core';

@Component({
  selector: 'app-user-item',
  templateUrl: './user-item.component.html',
  styleUrls: ['./user-item.component.css']
})
export class UserItemComponent implements OnInit {
  name: string; // dodali smo atribut

  constructor() {
    this.name = 'Žika'; // i inicijalizovali ga
  }

  ngOnInit() {
  }
}
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Komponenta i podaci</h2>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;!-- src/app/user-item/user-item.component.html --&gt;

&lt;p&gt;
  Hello {{ name }}
&lt;/p&gt;
          </code></pre></div>
        </section>

        <section class="valigntop">
          <h2>Korišćenje komponente</h2>
          <img src="img/angular/angular03.png" width="50%" class="clean"/>
        </section>

        <section class="valigntop">
          <h2>Primer: YouTube</h2>
          <img src="img/angular/ang02.svg" width="70%"/>
        </section>

        <section class="valigntop">
          <h2>Primer: GMail</h2>
          <img src="img/angular/ang03.svg" width="80%"/>
        </section>

        <section class="valigntop">
          <h2>Primer: GMail</h2>
          <img src="img/angular/ang04.svg" width="70%"/>
        </section>

        <section class="valigntop">
          <h2>Primer: Twitter</h2>
          <img src="img/angular/ang05.svg" width="60%"/>
        </section>

        <section class="valigntop">
          <h2>Zadatak: podeliti na komponente</h2>
          <img src="img/angular/ang06.svg" width="90%"/>
        </section>

        <section class="valigntop left">
          <h2>Primer: Wine Cellar</h2>
          <ul>
            <li>kreiramo novu aplikaciju</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="bash">
$ ng new wine-cellar
$ cd wine-cellar
          </code></pre></div>
          <ul>
            <li>komponente koje se pojavljuju u svakom prikazu ćemo staviti u folder <code>core</code></li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="bash">
$ ng g component core/header
$ ng g component core/navbar
          </code></pre></div>
          <ul>
            <li>komponente za manipulaciju vinima u folder <code>wine</code></li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="bash">
$ ng g component wine/wine-list
$ ng g component wine/edit-wine
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Primer: Wine Cellar</h2>
          <ul>
            <li><code>WineListComponent</code> se deli na</li>
            <ul>
              <li><code>SearchFormComponent</code></li>
              <li><code>TableComponent</code></li>
              <li><code>PaginationComponent</code></li>
            </ul>
            <li>treba kreirati ove komponente u folderu <code>wine</code></li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="bash">
$ ng g component wine/search-form
$ ng g component wine/table
$ ng g component wine/pagination
          </code></pre></div>
        </section>

        <section class="valigntop">
          <h2>Struktura projekta</h2>
          <img src="img/angular/ang07.svg" width="70%"/>
        </section>

        <section class="valigntop">
          <h2>node_modules folder</h2>
          <img src="img/angular/ang09.jpg" width="60%"/>
        </section>

        <section class="valigntop">
          <h2>Struktura komponente</h2>
          <img src="img/angular/ang08.svg" width="70%"/>
        </section>

        <section class="valigntop">
          <h2>Struktura komponente</h2>
          <img src="img/angular/ang10.svg" width="70%"/>
        </section>

        <section class="valigntop left">
          <h2>Zadatak</h2>
          <ul>
            <li>prefiks <code>app-</code> u selektoru promeniti u <code>wc-</code></li>
            <li>templejt za <code>AppComponent</code> preraditi tako da </li>
            <ul>
              <li>prvim redom upravlja <code>HeaderComponent</code></li>
              <li>drugim redom upravlja <code>NavbarComponent</code></li>
              <li>trećim redom upravlja <code>WineListComponent</code></li>
            </ul>
          </ul>
          <p/>
          <img src="img/angular/ang11.svg" width="90%"/>
        </section>

        <section class="valigntop left">
          <h2>Zadatak</h2>
          <ul>
            <li><code>WineListComponent</code> preraditi tako da prikaže <code>h1</code> naslov sa tekstom "WineListComponent" a ostatak podeliti na tri reda:</li>
            <li>templejt za <code>AppComponent</code> preraditi tako da </li>
            <ul>
              <li>prvim redom upravlja <code>SearchFormComponent</code></li>
              <li>drugim redom upravlja <code>TableComponent</code></li>
              <li>trećim redom upravlja <code>PaginationComponent</code></li>
            </ul>
          </ul>
          <center>
            <img src="img/angular/ang12.svg" width="60%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Bootstrap</h2>
          <ul>
            <li>koristićemo <a href="http://getbootstrap.com" target="_blank">Bootstrap v4</a> kao CSS biblioteku</li>
            <li>iskopirati <code>bootstrap.css</code> i <code>bootstrap.css.map</code> u <code>src/assets/css</code></li>
            <li>izmeniti <code>.angular-cli.json</code> tako da <code>styles</code> sadrži i Bootstrap-ov CSS:
          </ul>
          <div style="font-size:30pt;"><pre><code class="json">
"styles": [
  "styles.css",
  "assets/css/bootstrap.css"
]
          </code></pre></div>
          <ul>
            <li>restartovati Angular CLI</li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Bootstrap grid sistem i Wine Cellar</h2>
          <img src="img/angular/ang13.svg" width="80%"/>
        </section>

        <section class="valigntop left">
          <h2>Zadatak</h2>
          <ul>
            <li>dodati Bootstrap u Wine Cellar</li>
            <li>dodati Bootstrap klase kojima ćemo definisati grid sistem u templejtu <code>AppComponent</code></li>
            <ul>
              <li>u korenski <code>div</code> dodati klasu <code>container-fluid</code></li>
              <li>svaka od sadržanih komponenti se prostire u 1 redu i svih 12 kolona</li>
            </ul>
            <li>dodati Bootstrap klase kojima ćemo definisati grid sistem u templejtu <code>WineListComponent</code></li>
            <ul>
              <li>ne treba stavljati <code>container-fluid</code> (već je u korenskoj komponenti)</li>
              <li>svaka od sadržanih komponenti se prostire u 1 redu i svih 12 kolona</li>
            </ul>
            <li>zameniti templejte za header, navbar i table komponente - <a href="files/angular/zadatak4.zip">download</a></li>
            <ul>
              <li><code>wine.jpg</code> staviti u <code>src/assets/images</code></li>
            </ul>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Željeni izgled</h2>
          <img src="img/angular/ang14.svg" width="70%"/>
        </section>

        <section>
          <h1>#4: Moduli</h1>
        </section>

        <section class="valigntop left">
          <h2>Pojam modula</h2>
          <ul>
            <li>svi delovi neophodni za funkcionisanje aplikacije se stavljaju u modul</li>
            <li>modul može da sadrži i druge module</li>
            <li>aplikacija se može oslanjati i na druge module</li>
          </ul>
          <p/>
          <center>
            <img src="img/angular/ang15.svg" width="60%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Pojam modula</h2>
          <ul>
            <li>moduli su hijerarhijski organizovani</li>
            <li>na vrhu je <em>root module</em></li>
            <li>tipično se korenski modul zove <code>AppModule</code></li>
          </ul>
          <p/>
          <center>
            <img src="img/angular/ang16.svg" width="45%"/>
          </center>
        </section>

        <section class="valigntop">
          <h2>Wine Cellar: definicija AppModule</h2>
          <img src="img/angular/ang17.svg" width="70%"/>
        </section>

        <section class="valigntop">
          <h2>Trenutna struktura Wine Cellar aplikacije</h2>
          <img src="img/angular/ang18.svg" width="80%"/>
        </section>

        <section>
          <h1>#5: Interpolacija</h1>
        </section>

        <section class="valigntop left">
          <h2>Interpolacija: dinamičko izračunavanje izraza</h2>
          <ul>
            <li>vrednost izraza se izračunava prilikom prikazivanja</li>
            </ul>
          <div style="font-size:30pt;"><pre><code class="html">
<p>Vrednost izraza 2+2: {{2+2}}</p>
          </code></pre></div>
          <ul>
            <li>atributi komponente</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="typescript">
private title: string = "primer";
private a: number = 5;
private b: number = 3;
          </code></pre></div>
          <div style="font-size:30pt;"><pre><code class="html">
<h1>{{title}}</h1>
<p> {{a}} + {{b}} = {{a+b}}</p>
<p>Naslov sadrži {{title.length}} znakova.</p>
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Interpolacija</h2>
          <ul>
            <li>ternarni operator</li>
            </ul>
          <div style="font-size:30pt;"><pre><code class="html">
<p>{{ a > 0 ? 'positive' : 'negative' }}</p>
          </code></pre></div>
          <ul>
            <li>poziv metode komponente</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="typescript">
subtract(x: number, y: number): number {
  return x - y;
}
          </code></pre></div>
          <div style="font-size:30pt;"><pre><code class="html">
<p>{{a}} - {{b}} = {{subtract(a, b)}}</p>
          </code></pre></div>
        </section>

        <section>
          <h1>#6: Kolekcije podataka</h1>
        </section>

        <section class="valigntop left">
          <h2>Kolekcije podataka</h2>
          <div style="font-size:30pt;"><pre><code class="bash">
ng new hello-world
cd hello world
ng g component user-list
          </code></pre></div>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;!-- src/app/app.component.html --&gt;

&lt;h1&gt; 
  {{title}}
  &lt;app-hello-world&gt;&lt;/app-hello-world&gt; 
  &lt;app-user-list&gt;&lt;/app-user-list&gt;
&lt;/h1&gt;
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Kolekcije podataka</h2>
          <div style="font-size:30pt;"><pre><code class="typescript">// src/app/user-list/user-list.component.ts

import { Component, OnInit } from '@angular/core';

@Component({
  selector: 'app-user-list',
  templateUrl: './user-list.component.html',
  styleUrls: ['./user-list.component.css']
})
export class UserListComponent implements OnInit {
  
  names: string[];

  constructor() {
    this.names = ['Žika', 'Pera', 'Mika', 'Laza'];
  }

  ngOnInit() {
  }
}
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Kolekcije podataka</h2>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;!-- src/app/user-item/user-list.component.html --&gt;

&lt;ul&gt;
  &lt;li *ngFor=&quot;let name of names&quot;&gt;Hello {{ name }}&lt;/li&gt;
&lt;/ul&gt;
          </code></pre></div>
        </section>

        <section class="valigntop">
          <h2>Kolekcije podataka</h2>
          <img src="img/angular/angular04.png" width="50%" class="clean"/>
        </section>

        <section class="valigntop left">
          <h2>Jedna komponenta poziva drugu</h2>
          <div style="font-size:30pt;"><pre><code class="bash">
ng g component user-item
          </code></pre></div>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;!-- src/app/user-list/user-list.component.html --&gt;

&lt;ul&gt;
  &lt;li *ngFor=&quot;let name of names&quot;&gt;
    &lt;app-user-item&gt;&lt;/app-user-item&gt; 
  &lt;/li&gt;
&lt;/ul&gt;
          </code></pre></div>
        </section>

        <section class="valigntop">
          <h2>Jedna komponenta poziva drugu</h2>
          <p>ups...</p>
          <img src="img/angular/angular05.png" width="50%" class="clean"/>
        </section>

        <section class="valigntop left">
          <h2>Prenos podataka u komponentu</h2>
          <div style="font-size:30pt;"><pre><code class="typescript">// src/app/user-item/user-item.component.ts

import { Component, OnInit, Input } from '@angular/core';

@Component({
  selector: 'app-user-item',
  templateUrl: './user-item.component.html',
  styleUrls: ['./user-item.component.css']
})
export class UserItemComponent implements OnInit {

  @Input() name: string; // dodali smo dekorator

  constructor() {
    this.name = 'Žika';
  }

  ngOnInit() {
  }
}
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Prenos podataka u komponentu</h2>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;!-- src/app/user-list/user-list.component.html --&gt;

&lt;ul&gt;
  &lt;li *ngFor=&quot;let name of names&quot;&gt;
    &lt;app-user-item [name]=&quot;name&quot;&gt;&lt;/app-user-item&gt;
  &lt;/li&gt;
&lt;/ul&gt;
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Konfiguracija modula</h2>
          <div style="font-size:30pt;"><pre><code class="typescript">// src/app/app.module.ts

@NgModule({
  declarations: [
    AppComponent,
    HelloWorldComponent, // moramo deklarisati
    UserItemComponent,   // komponente pre upotrebe
    UserListComponent
], imports: [
    BrowserModule,
    FormsModule,
    HttpModule
  ],
  providers: [],        // injektovane stvari
  bootstrap: [AppComponent] // glavna komponenta
})
export class AppModule { }
          </code></pre></div>
        </section>

        <section>
          <h1>#7: obrada događaja</h1>
        </section>

        <section class="valigntop left">
          <h2>Primer: reddit klon</h2>
          <div style="font-size:30pt;"><pre><code class="bash">
ng new angular-reddit
          </code></pre></div>
          <p>Iskopirajte fajlove iz <a href="files/angular/reddit-files.zip" target="_blank">reddit-files.zip</a> u <code>src</code> folder.</p>
        </section>

        <section class="valigntop">
          <h2>Proba</h2>
          <img src="img/angular/angular06.png" width="70%" class="clean"/>
        </section>

        <section class="valigntop left">
          <h2>app.component.html</h2>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;form class=&quot;ui large form segment&quot;&gt; 
  &lt;h3 class=&quot;ui header&quot;&gt;Dodaj link&lt;/h3&gt;
  &lt;div class=&quot;field&quot;&gt;
    &lt;label for=&quot;title&quot;&gt;Naslov:&lt;/label&gt; 
    &lt;input name=&quot;title&quot;/&gt;
  &lt;/div&gt;
  &lt;div class=&quot;field&quot;&gt;
    &lt;label for=&quot;link&quot;&gt;Link:&lt;/label&gt;
    &lt;input name=&quot;link&quot;/&gt;
  &lt;/div&gt;
&lt;/form&gt;
          </code></pre></div>
        </section>

        <section class="valigntop">
          <h2>app.component.html</h2>
          <img src="img/angular/angular07.png" width="70%" class="clean"/>
        </section>

        <section class="valigntop left">
          <h2>app.component.ts</h2>
          <div style="font-size:30pt;"><pre><code class="typescript">
export class AppComponent {
  title = 'app works!';

  addArticle(title: HTMLInputElement, link: HTMLInputElement): boolean {
    console.log(`Dodajemo članak sa naslovom: ${title.value} i linkom: ${link.value}`);
    return false; 
  }
}
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>app.component.html</h2>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;form class=&quot;ui large form segment&quot;&gt; 
  &lt;h3 class=&quot;ui header&quot;&gt;Dodaj Link&lt;/h3&gt;
  &lt;div class=&quot;field&quot;&gt;
    &lt;label for=&quot;title&quot;&gt;Naslov:&lt;/label&gt;
    &lt;input name=&quot;title&quot; #newtitle /&gt; &lt;!-- dodeli tag lokalnoj promenljivoj --&gt;
  &lt;/div&gt;
  &lt;div class=&quot;field&quot;&gt;
    &lt;label for=&quot;link&quot;&gt;Link:&lt;/label&gt;
    &lt;input name=&quot;link&quot; #newlink /&gt; &lt;!-- dodeli tag lokalnoj promenljivoj --&gt; 
  &lt;/div&gt;

  &lt;!-- dodato dugme, koristimo promenljive! --&gt;
  &lt;button (click)=&quot;addArticle(newtitle, newlink)&quot;
      class=&quot;ui positive right floated button&quot;&gt;
    Po&scaron;alji link 
  &lt;/button&gt;
&lt;/form&gt;
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Resolve</h2>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;input name=&quot;title&quot; #newtitle&gt;
          </code></pre></div>
          <ul>
            <li><code>#newtitle</code> sintaksa zove se <strong>resolve</strong></li>
            <li>promenljiva <code>newtitle</code> će biti dostupna u templejtu</li>
            <li>njen tip je <code>HTMLInputElement</code> jer predstavlja čvor u DOM stablu</li>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Akcije i događaji</h2>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;button (click)=&quot;addArticle(newtitle, newlink)&quot;&gt;
          </code></pre></div>
          <ul>
            <li><code>addArticle</code> je funkcija u komponenti</li>
            <li><code>newtitle</code> je definisana kao resolve</li>
            <li><code>newlink</code> je definisana kao resolve</li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Reakcija na događaj</h2>
          <img src="img/angular/angular08.png" width="60%" class="clean"/>
        </section>

        <section class="valigntop left">
          <h2>Komponenta za članak</h2>
          <div style="font-size:30pt;"><pre><code class="bash">
ng generate component article
          </code></pre></div>
          <ul>
            <li>definišemo izgled <code>ArticleComponent</code> u templejtu</li>
            <li>definišemo osobine <code>ArticleComponent</code> u klasi</li>
            <li><code>newlink</code> je definisana kao resolve</li>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>article.component.html</h2>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;div class=&quot;four wide column center aligned votes&quot;&gt; 
  &lt;div class=&quot;ui statistic&quot;&gt;
    &lt;div class=&quot;value&quot;&gt;{{ votes }}&lt;/div&gt;
    &lt;div class=&quot;label&quot;&gt;Points&lt;/div&gt;
  &lt;/div&gt; 
&lt;/div&gt;
&lt;div class=&quot;twelve wide column&quot;&gt;
  &lt;a class=&quot;ui large header&quot; href=&quot;{{ link }}&quot;&gt;{{ title }} &lt;/a&gt;
  &lt;ul class=&quot;ui big horizontal list voters&quot;&gt; 
    &lt;li class=&quot;item&quot;&gt;
      &lt;a href (click)=&quot;voteUp()&quot;&gt;
        &lt;i class=&quot;arrow up icon&quot;&gt;&lt;/i&gt; upvote
      &lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&quot;item&quot;&gt;
      &lt;a href (click)=&quot;voteDown()&quot;&gt;
        &lt;i class=&quot;arrow down icon&quot;&gt;&lt;/i&gt; downvote
      &lt;/a&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>article.component.ts</h2>
          <div style="font-size:30pt;"><pre><code class="typescript">export class ArticleComponent implements OnInit {
  // dodajemo atribut na host element, tj. element koji
  // predstavlja ovu komponentu u templejtima
  @HostBinding('attr.class') cssClass = 'row';

  votes: number; // suma glasova
  title: string; // naslov clanka
  link: string;  // link na clanak

  constructor() {
    this.title = 'Angular 2';
    this.link = 'http://angular.io';
    this.votes = 10;
  }

  voteUp() {
    this.votes += 1;
  }
  voteDown() {
    this.votes -= 1;
  }
  ngOnInit() { }
}</code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>app.component.html</h2>
          <p>Ispod <code>form</code> elementa treba dodati:</p>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;div class=&quot;ui grid posts&quot;&gt;
  &lt;app-article&gt;
  &lt;/app-article&gt;
&lt;/div&gt;
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>app.module.ts</h2>
          <p>Angular CLI je dodao novu komponentu u deklaracije prilikom poziva <code>ng generate component</code>. Bez toga tag <code>app-article</code> ne bi bio prepoznat.</p>
          <div style="font-size:30pt;"><pre><code class="typescript">
@NgModule({
  declarations: [
    AppComponent,
    ArticleComponent
  ],
  imports: [
    BrowserModule,
    FormsModule,
    HttpModule
  ],
  providers: [],
  bootstrap: [AppComponent]
})
export class AppModule { }
          </code></pre></div>
        </section>

        <section class="valigntop">
          <h2>Novo stanje</h2>
          <img src="img/angular/angular09.png" width="45%" class="clean"/>
          <p><small>Klik na linkove "glas više" / "glas manje" izaziva page reload.</small></p>
        </section>

        <section class="valigntop left">
          <h2>Obrada događaja</h2>
          <ul>
            <li>JavaScript će propagirati <code>click</code> događaj svim roditeljskim komponentama</li>
            <li>klik na "prazan" link će izazvati reload</li>
            <li>treba vratiti <code>false</code> da bismo sprečili propagiranje događaja prema roditeljima</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="typescript">
voteUp() {
  this.votes += 1;
  return false;
}

voteDown() {
  this.votes -= 1;
  return false;
}
          </code></pre></div>
        </section>

        <section>
          <h1>#8: model podataka</h1>
        </section>

        <section class="valigntop left">
          <h2>Model klasa</h2>
          <ul>
            <li>podatke o članku predstavićemo novom klasom <code>Article</code></li>
            <li>to je obična TypeScript klasa, nije komponenta</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="bash">
ng generate class article/Article
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>article.ts</h2>
          <div style="font-size:30pt;"><pre><code class="typescript">
export class Article { 
  title: string; 
  link: string; 
  votes: number;

  constructor(title: string, link: string, votes?: number) { 
    this.title = title;
    this.link = link;
    this.votes = votes || 0;
  }

  voteUp() {
    this.votes += 1;
  }

  voteDown() {
    this.votes -= 1;
  }
}
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>article.component.ts</h2>
          <div style="font-size:30pt;"><pre><code class="typescript">import { Article } from './article';

export class ArticleComponent implements OnInit {
  @HostBinding('attr.class') cssClass = 'row'; 
  article: Article;

  constructor() {
    this.article = new Article(
      'Angular 2',
      'http://angular.io',
      10);
  }

  voteUp() {
    this.article.voteUp();
    return false;
  }
  voteDown() {
    this.article.voteDown();
    return false;
  }
  ...
}</code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>article.component.html</h2>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;div class=&quot;four wide column center aligned votes&quot;&gt; 
  &lt;div class=&quot;ui statistic&quot;&gt;
    &lt;div class=&quot;value&quot;&gt;{{ article.votes }}&lt;/div&gt;
    &lt;div class=&quot;label&quot;&gt;Poena&lt;/div&gt;
  &lt;/div&gt; 
&lt;/div&gt;
&lt;div class=&quot;twelve wide column&quot;&gt;
  &lt;a class=&quot;ui large header&quot; href=&quot;{{ article.link }}&quot;&gt;{{ article.title }} &lt;/a&gt;
  &lt;ul class=&quot;ui big horizontal list voters&quot;&gt; 
    &lt;li class=&quot;item&quot;&gt;
      &lt;a href (click)=&quot;voteUp()&quot;&gt;
        &lt;i class=&quot;arrow up icon&quot;&gt;&lt;/i&gt; glas vi&scaron;e
      &lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=&quot;item&quot;&gt;
      &lt;a href (click)=&quot;voteDown()&quot;&gt;
        &lt;i class=&quot;arrow down icon&quot;&gt;&lt;/i&gt; glas manje
      &lt;/a&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
          </code></pre></div>
        </section>

        <section class="valigntop">
          <h2>Novo stanje</h2>
          <img src="img/angular/angular10.png" width="65%" class="clean"/>
        </section>

        <section class="valigntop left">
          <h2>Rukovanje kolekcijom članaka</h2>
          <ol>
            <li>niz članaka (<code>Article[]</code>) možemo čuvati u <code>AppComponent</code></li>
            <li>izmenićemo <code>ArticleComponent</code> tako da prima <code>Article</code> kao ulazni parametar</li>
            <li>izmenićemo templejt za <code>AppComponent</code> tako da prima više puta prikaže <code>ArticleComponent</code></li>
          </ol>
        </section>

        <section class="valigntop left">
          <h2>app.component.ts</h2>
          <div style="font-size:30pt;"><pre><code class="typescript">import { Component } from '@angular/core';
import { Article } from './article/article';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent {
  articles: Article[];

  constructor() {
    this.articles = [
      new Article('Angular 2', 'http://angular.io', 3),
      new Article('Fullstack', 'http://fullstack.io', 2),
      new Article('TypeScript', 'http://typescriptlang.org', 1),
    ];
  }
}</code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>article.component.ts</h2>
          <div style="font-size:30pt;"><pre><code class="typescript">import { Component, OnInit, HostBinding, Input } from '@angular/core';
import { Article } from './article';

@Component({
  selector: 'app-article',
  templateUrl: './article.component.html',
  styleUrls: ['./article.component.css']
})
export class ArticleComponent implements OnInit {
  @HostBinding('attr.class') cssClass = 'row'; 
  @Input() article: Article; // dodali smo dekorator

  constructor() {
    // article se popunjava @Input() injekcijom
  }

  ...

}</code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>app.component.html</h2>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;div class=&quot;ui grid posts&quot;&gt;
  &lt;app-article *ngFor=&quot;let article of articles&quot; [article]=&quot;article&quot;&gt;
  &lt;/app-article&gt;
&lt;/div&gt;
          </code></pre></div>
        </section>

        <section class="valigntop">
          <h2>Novo stanje</h2>
          <img src="img/angular/angular11.png" width="50%" class="clean"/>
        </section>

        <section class="valigntop left">
          <h2>Dodavanje novog članka: app.component.ts</h2>
          <div style="font-size:30pt;"><pre><code class="typescript">
addArticle(title: HTMLInputElement, link: HTMLInputElement): boolean { 
  console.log(`Dodajem članak: ${title.value} i link: ${link.value}`); 
  this.articles.push(new Article(title.value, link.value, 0));
  title.value = '';
  link.value = '';
  return false; 
}
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Prikaz domena iz linka: article.ts</h2>
          <div style="font-size:30pt;"><pre><code class="typescript">
domain(): string { 
  try {
    // 1. skini http://
    const domainAndPath: string = this.link.split('//')[1];
    // 2. skini sve iza prve /
    return domainAndPath.split('/')[0];
  } catch (err) {
    return null; 
  }
}
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Prikaz domena iz linka: article.component.html</h2>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;a class=&quot;ui large header&quot; href=&quot;{{ article.link }}&quot;&gt;{{ article.title }}&lt;/a&gt;

&lt;!-- dodato vvv--&gt;
&lt;div class=&quot;meta&quot;&gt;({{ article.domain() }})&lt;/div&gt;
&lt;!-- dodato ^^^--&gt;

&lt;ul class=&quot;ui big horizontal list voters&quot;&gt; 
...
&lt;/ul&gt;
          </code></pre></div>
        </section>

        <section class="valigntop">
          <h2>Novo stanje</h2>
          <img src="img/angular/angular12.png" width="50%" class="clean"/>
        </section>

        <section class="valigntop left">
          <h2>Prikaz sortiranih podataka</h2>
          <ul>
            <li>za sortiranje će poslužiti ugrađena funkcija <code>sort</code> za nizove</li>
            <li>kriterijum sortiranja: razlika glasova</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="typescript">
export class AppComponent {
  ...
  sortedArticles(): Article[] {
    return this.articles.sort((a: Article, b: Article) => b.votes - a.votes);
  }  
}
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Prikaz sortiranih podataka: app.component.html</h2>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;div class=&quot;ui grid posts&quot;&gt;
  &lt;app-article *ngFor=&quot;let article of sortedArticles()&quot; [article]=&quot;article&quot;&gt;
  &lt;/app-article&gt;
&lt;/div&gt;
          </code></pre></div>
        </section>

        <section>
          <h1>#9: ulazi i izlazi komponente</h1>
        </section>

        <section class="valigntop left">
          <h2>Primeri u repozitorijumu</h2>
          <ul>
            <li><a href="https://github.com/mbranko/webkurs/tree/master/primeri/angular-reddit" target="_blank">angular-reddit</a></li>
            <li><a href="https://github.com/mbranko/webkurs/tree/master/primeri/inventory-app" target="_blank">inventory-app</a></li>
            <li><a href="https://github.com/mbranko/webkurs/tree/master/primeri/forms" target="_blank">forms</a></li>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>[ulaz] i (izlaz)</h2>
          <ul>
            <li>za prenos <strong>ulaza</strong> u komponentu koriste se <code>[uglaste]</code> zagrade</li>
            <li>za prenos <strong>izlaza</strong> u komponentu koriste se <code>(obične)</code> zagrade</li>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>app.component.html</h2>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;div class=&quot;inventory-app&quot;&gt;
  &lt;products-list
    [productList]=&quot;products&quot;
    (onProductSelected)=&quot;productWasSelected($event)&quot;&gt;
  &lt;/products-list&gt;
&lt;/div&gt;
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>products-list.component.ts</h2>
          <div style="font-size:30pt;"><pre><code class="typescript">
export class ProductsListComponent {

  @Input() productList: Product[];  // ulaz

  @Output() onProductSelected: EventEmitter&lt;Product&gt;;  // izlaz

  clicked(product: Product): void {
    this.currentProduct = product;
    this.onProductSelected.emit(product); // emitujemo na izlaz
  }

  isSelected(product: Product): boolean {
    if (!product || !this.currentProduct) {
      return false;
    }
    return product.sku === this.currentProduct.sku;
  }
  ...
}
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>EventEmitter je observer pattern</h2>
          <ul>
            <li>održava listu "pretplatnika" na događaj</li>
            <li>publikuje događaj</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="typescript">
let ee = new EventEmitter();
ee.subscribe((name:string) => console.log(`Hello ${name}`));
ee.emit("Žika");
// -> "Hello Žika"
          </code></pre></div>
          <ul>
            <li>kada vežemo <code>EventEmitter</code> za izlaz, Angular će ga automatski pretplatiti</li>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>products-list.component.html</h2>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;div class=&quot;ui items&quot;&gt;
  &lt;product-row

    &lt;!-- iteracija kroz niz --&gt;
    *ngFor=&quot;let myProduct of productList&quot;

    &lt;!-- prenos ulaznog parametra --&gt;
    [product]=&quot;myProduct&quot;

    &lt;!-- pretplata na događaj (klik mi&scaron;em) --&gt;
    (click)='clicked(myProduct)'

    &lt;!-- uključi/isključi CSS klasu selected zavisno od uslova --&gt;
    [class.selected]=&quot;isSelected(myProduct)&quot;&gt;
  &lt;/product-row&gt;
&lt;/div&gt;
          </code></pre></div>
        </section>

        <section>
          <h1>#10: ugrađene direktive</h1>
        </section>

        <section class="valigntop left">
          <h2>ngIf</h2>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;div *ngIf=&quot;false&quot;&gt;&lt;/div&gt;

&lt;div *ngIf=&quot;a &gt; b&quot;&gt;&lt;/div&gt;

&lt;div *ngIf=&quot;str == 'yes'&quot;&gt;&lt;/div&gt;

&lt;div *ngIf=&quot;myFunc()&quot;&gt;&lt;/div&gt;
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>ngSwitch</h2>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;div class=&quot;container&quot; [ngSwitch]=&quot;myVar&quot;&gt;
  &lt;div *ngSwitchCase=&quot;'A'&quot;&gt;Var is A&lt;/div&gt;
  &lt;div *ngSwitchCase=&quot;'B'&quot;&gt;Var is B&lt;/div&gt;
  &lt;div *ngSwitchCase=&quot;'C'&quot;&gt;Var is C&lt;/div&gt;
  &lt;div *ngSwitchDefault&gt;Var is something else&lt;/div&gt;
&lt;/div&gt;
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>ngStyle</h2>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;div [style.background-color]=&quot;'yellow'&quot;&gt; ...
&lt;/div&gt;
          </code></pre></div>
          ili
          <div style="font-size:30pt;"><pre><code class="html">
&lt;div [ngStyle]=&quot;{color: 'white', 'background-color': 'blue'}&quot;&gt; ...
&lt;/div&gt;
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>ngClass</h2>
          <div style="font-size:30pt;"><pre><code class="css">
.bordered {
  border: 1px dashed black; background-color: #eee; 
}
          </code></pre></div>

          <div style="font-size:30pt;"><pre><code class="html">
&lt;div [ngClass]=&quot;{bordered: false}&quot;&gt;This is never bordered&lt;/div&gt; 
&lt;div [ngClass]=&quot;{bordered: true}&quot;&gt;This is always bordered&lt;/div&gt;
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Model</h2>
          <ul>
            <li><strong>model</strong> u prikazu je TypeScript klasa</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="typescript">
// src/app/models/institution.ts

export class Institution {
  constructor(
    public id: number,
    public title: string) { }
}
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Servis</h2>
          <ul>
            <li>servis je klasa koja obavlja neki posao za komponentu</li>
            <li>tipično se dobavlja injekcijom</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="bash">
ng generate service services/Institution
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Servis</h2>
          <div style="font-size:30pt;"><pre><code class="typescript">
// src/app/services/institution.service.ts

import { Injectable } from '@angular/core';
import { Http } from '@angular/http';
import { Institution } from "../model/institution";

@Injectable()
export class InstitutionService {

  constructor(private http: Http) {
  }

  getInstitutions(): Promise&lt;Institution[]&gt; {
    return this.http.get('/institutions')
      .toPromise()
      .then(response => response.json()._embedded.institutions as Institution[])
      .catch(this.handleError);
  }
}</code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Injekcija servisa</h2>
          <ul>
            <li>referencu na servis komponenta će dobiti injekcijom</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="typescript">
@Component({
  ...
  providers: [InstitutionService],
})
export class InstitutionsListComponent implements OnInit {
  constructor(private institutionService: InstitutionService) { }
  ...
}            
          </code></pre></div>
        </section>

        <section>
          <h1>#11: rutiranje</h1>
        </section>

        <section class="valigntop left">
          <h2>Pojam rutiranja</h2>
          <ul>
            <li>rutiranje omogućava</li>
            <ul>
              <li>navigacij između različitih prikaza</li>
              <li>back i forward u web čitaču</li>
              <li>razmenu parametara između komponenti koje se prikazuju</li>
            </ul>
            <li>primer:</li>
          </ul>
          <center>
            <img src="img/angular/ang19.svg" width="75%" class="clean"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Rutiranje i SPA</h2>
          <ul>
            <li>single page apps: stalno smo na istoj stranici</li>
            <li>menjamo elemente korisničkog interfejsa</li>
            <li>na primer, u Wine Cellar aplikaciji</li>
            <ul>
              <li>uvek stoje <code>HeaderComponent</code> i <code>NavbarComponent</code></li>
              <li>ispod njih se smenjuju <code>WineListComponent</code> i <code>EditWineComponent</code></li>
            </ul>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Mesto gde se smenjuju komponente</h2>
          <div style="font-size:30pt;"><pre><code class="html">
<router-outlet></router-outlet>
          </code></pre></div>
          <center>
            <img src="img/angular/ang20.svg" width="75%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Rutiranje i URL</h2>
          <ul>
            <li>kako znamo u kom delu aplikacije se nalazi korisnik, tj. šta treba da mu se prikaže?</li>
            <li>URL je jedinstven - na osnovu njega možemo odrediti šta se prikazuje</li>
            <li>primer:</li>
            <ul>
              <li><a href="http://localhost:4200/wines" target="_blank">http://localhost:4200/wines</a> - prikazuje tabelu sa vinima, odnosno <code>WineListComponent</code></li>
              <li><a href="http://localhost:4200/wines/add" target="_blank">http://localhost:4200/wines/add</a> - prikazuje formu za dodavanje vina, odnosno <code>EditWineComponent</code></li>
            </ul>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Tradicionalne aplikacije vs SPA</h2>
          <ul>
            <li>u tradicionalnim aplikacijama:</li>
            <ul>
              <li>promena URL-a automatski izaziva <em>refresh</em> stranice</li>
              <li>web čitač šalje zahtev za novom stranicom</li>
            </ul>
            <br/>
            <li>u SPA:</li>
            <ul>
              <li>ne moramo osvežiti celu stranicu</li>
              <li>menjamo samo delove stranice tako što menjamo DOM stablo (pomoću Angulara)</li>
              <li>menjamo URL u web čitaču bez osvežavanja stranice</li>
            </ul>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>HTML5 History API</h2>
          <ul>
            <li>Angular se oslanja na HTML5 History API</li>
            <ul>
              <li>URL sajta se može menjati bez osvežavanja stranice</li>
              <li>isto važi i za <em>back</em> i <em>forward</em></li>
            </ul>
            <br/>
            <li>moramo u <code>index.html</code> dodati <code>&lt;base href="/"&gt;</code></li>
            <br/>
            <li>URL se formira tako što se nešto doda na koren</li>
            <ul>
              <li>neće izazvati refresh stranice</li>
              <li>sve iza korena tretira se kao pravilo navigacije koje će Angular koristiti</li>
            </ul>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Definisanje pravila rutiranja</h2>
          <ul>
            <li><a href="http://localhost:4200" target="_blank">http://localhost:4200</a> - koren naše aplikacije</li>
            <ul>
              <li><a href="http://localhost:4200/wines" target="_blank">http://localhost:4200/wines</a> - <code>WineListComponent</code></li>
              <li><a href="http://localhost:4200/wines/add" target="_blank">http://localhost:4200/wines/add</a> - <code>EditWineComponent</code></li>
            </ul>
            <br/>
            <li>na osovu ovoga definišemo pravila rutiranja:</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="typescript">
const routes: Routes = [
  {path: 'wines', component: WineListComponent},
  {path: 'wines/add', component: EditWineComponent}
]
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Angularov Router modul</h2>
          <ul>
            <li>moramo uključiti <code>RouterModule</code></li>
            <ul>
              <li>u njemu je definisana direktiva <code>&lt;router-outlet&gt;</code></li>
              <li>u njemu je definisana klasa <code>Routes</code></li>
            </ul>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Uključivanje RouterModule u projekat</h2>
          <ul>
            <li>u definiciji modula naše aplikacije - <code>app.module.ts</code>:</li>
          </ul>
          <center>
            <img src="img/angular/ang21.svg" width="85%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Izazivanje prelaska između stranica</h2>
          <ul>
            <li>u templejtu - klik na link koji ima atribut <code>routerLink</code></li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="html">
<a [routerLink]="['/wines/add']">Add new wine</a>
          </code></pre></div>
          <ul>
            <li>u klasi komponente - injekcijom dobijamo router servis</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="typescript">
import { Router } from '@angular/router';
@Component({
  selector: 'app-edit-wine',
  templateUrl: './edit-wine.component.html',
  styleUrls: ['./edit-wine.component.css']
})
export class EditWineComponent implements OnInit {
  constructor(private router: Router) { ... }
}
...
this.router.navigate(['wines/'])
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Primer rutiranja</h2>
          <ul>
            <li>primer u projektu <a href="files/angular/winecellar-routing.zip">winecellar-routing.zip</a></li>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Izdvajanje rutiranja u poseban modul</h2>
          <ul>
            <li>u praksi se pravi poseban modul čiji zadatak je rutiranje u aplikaciji</li>
            <li>nazvaćemo ga <code>AppRoutingModule</code></li>
          </ul>
          <center>
            <img src="img/angular/ang22.svg" width="60%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Pravljenje AppRoutingModule</h2>
          <ol>
            <li>kreirati novi modul u <code>app-routing.module.ts</code>
          <div style="font-size:30pt;"><pre><code class="bash">$ ng g module app-routing</code></pre></div>
            </li>
            <li>u <code>AppRoutingModule</code> importovati <code>RouterModule</code></li>
            <li><coder>RouterModule</coder> dodati u exports <code>AppRoutingModule</code>-a</li>
          </ol>
          <div style="font-size:30pt;"><pre><code class="typescript">
import { RouterModule } from '@angular/router'; // ovde

@NgModule({
  imports: [
    CommonModule,
    RouterModule   // ovde
  ], 
  exports: [
    RouterModule   // ovde
  ], 
  declarations: []
})
export class AppRoutingModule { }
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Definisanje rutiranja - koraci</h2>
          <ul>
            <li>radi bolje organizacije koda, pravila rutiranja ćemo staviti u poseban fajl</li>
            <li><code>src/app/app-routing/routes.ts</code></li>
          </ul>
          <center>
            <img src="img/angular/ang23.svg" width="80%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Definisanje rutiranja - koraci</h2>
          <ul>
            <li>proslediti definisanje putanje u <code>RouterModule</code></li>
            <li>u <code>AppRoutingModule</code></li>
            <ul>
              <li>importovati <code>routes</code> konstantu</li>
              <li>proslediti je <code>RouterModule</code>-u kao parametar <code>forRoot</code> funkcije</li>
            </ul>
          </ul>
          <div style="font-size:30pt;"><pre><code class="typescript">
import { RouterModule } from '@angular/router';
import { routes } from './routes';  // ovde

@NgModule({
  imports: [
    CommonModule,
    RouterModule.forRoot(routes)  // ovde
  ], 
  exports: [
    RouterModule
  ], 
  declarations: []
})
export class AppRoutingModule { }
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Primer rutiranja</h2>
          <ul>
            <li>primer u projektu <a href="files/angular/winecellar-routing2.zip">winecellar-routing2.zip</a></li>
          </ul>
        </section>

        <section>
          <h1>#11: forme</h1>
        </section>

        <section class="valigntop left">
          <h2>Podsetnik: forme u HTML-u</h2>
          <ul>
            <li>forme su predstavljene elementom <code>&lt;form&gt;...&lt;/form&gt;</code></li>
            <li>unutar njega možemo smestiti elemente</li>
            <ul>
              <li><code>&lt;input&gt;</code></li>
              <li><code>&lt;textarea&gt;</code></li>
              <li><code>&lt;button&gt;</code></li>
              <li><code>&lt;select&gt;</code></li>
              <li>...</li>
            </ul>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Primer forme za unos</h2>
          <div style="width: 65%; font-size: 22pt; float: left">
            <pre><code class="html">
<form>
  <div class="form-group row">
    <label for="name" class="col-2 col-form-label">Name</label>
    <div class="col-10">
      <input class="form-control" type="text" id="name" placeholder="Name">
      <small>Notification about name</small>
    </div>
  </div>
  ...
  <div class="form-group row float-right">
    <div class="col-12">
      <button class="btn btn-primary" type="submit">Submit</button>
    </div>
  </div>
</form>
            </code></pre>
          </div>
          <div style="float: left; width: 35%">
            <img src="img/angular/ang24.svg"/>
          </div>
        </section>

        <section class="valigntop left">
          <h2>Template-driven forms</h2>
          <ul>
            <li>vezujemo TypeScript objekte za elemente forme pomoću <em>two-way data binding</em>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;element [(ngModel)]="objekat"/&gt;
          </code></pre></div>
            </li>
            <li>element mora imati atribut <code>name</code></li>
            <li>sve promene nad elementom rezultuju izmenom TypeScript objekta</li>
            <li>i obrnuto: sve izmene nad objektom vide se u elementu forme</li>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>FormsModule</h2>
          <ul>
            <li>radi korišćenja <code>ngModel</code> direktive mora se importovati <code>FormsModule</code></em></li>
            <li>u naš <code>AppModule</code> dodamo:</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="typescript">
import { FormsModule } from '@angular/forms';
...

@NgModule({
  declarations: [
    AppComponent,
    RegisterUserComponent
  ],
  imports: [
    BrowserModule,
    FormsModule,   // ovde
  ], 
  providers: [], 
  bootstrap: [AppComponent]
})
export class AppModule { }
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Primer forme</h2>
          <center>
            <img src="img/angular/ang25.svg" width="60%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Primer forme</h2>
          <center>
            <img src="img/angular/ang26.svg" width="80%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Primer forme</h2>
          <ul>
            <li>u <code>form</code> element dodati direktivu <code>ngSubmit</code></li>
            <li>funkcija koja se poziva mora biti definisana u komponenti kojoj pripada taj templejt</li>
          </ul>
          <center>
            <img src="img/angular/ang27.svg" width="80%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Validacija forme</h2>
          <ul>
            <li>na klijentskoj strani možemo proveriti korisnički unos</li>
            <ul>
              <li>obavezna polja, ispravan format, ...</li>
              <li>isključiti submit dugme dok svi unosi nisu validni</li>
              <li>ispisati upozorenje za unose koji nisu validni</li>
            </ul>
            <li>koristimo iste atribute kao i za HTML5 validaciju</li>
            <ul>
              <li>required, min, max, ...</li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5/Constraint_validation" target="_blank">https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5/Constraint_validation</a></li>
            </ul>
            <li>treba dodati atribut <code>novalidate</code> da bi se isključila HTML5 validacija - da ne ulazi u koliziju sa Angularom!</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="html">
&lt;form novalidate&gt;
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>Validacija forme - direktiva ngModel</h2>
          <ul>
            <li>stanje elementa forme možemo proveriti tako što eksportujemo ngModel u lokalnu promenljivu u templejtu
          <div style="font-size:30pt;"><pre><code class="html">
&lt;input #varijabla="ngModel"&gt;
          </code></pre></div>
            </li>
            <li>putem ove promenljive možemo pratiti stanje elementa</li>
            <li>na primer, sledeća polja definisana na ovakvoj promenljivoj su nam interesantna:</li>
            <ul>
              <li><code>touched</code> - ako je element imao fokus</li>
              <li><code>valid</code> - ako je sadržaj validan</li>
              <li><code>errors</code> - null ako nema grešaka, inače objekat koji opisuje greške</li>
            </ul>
            <li>kompletna lista polja: <a href="https://angular.io/api/forms/AbstractControl" target="_blank">https://angular.io/api/forms/AbstractControl</a></li>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Primer forme - dodavanje ograničenja</h2>
          <div style="float: left; width: 35%">
            <img src="img/angular/ang24.svg"/>
          </div>
          <div style="width: 65%; float: left">
            <ul>
              <li>username je obavezan</li>
              <li>email je obavezan</li>
              <li>provera formata emaila (username@domen)</li>
              <li>password je obavezan</li>
              <li>password mora imati najmanje 8 znakova</li>
            </ul>
          </div>
        </section>

        <section class="valigntop left">
          <h2>Primer forme - dodavanje ograničenja</h2>
          <center>
            <img src="img/angular/ang28.svg" width="80%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Primer forme - dodavanje ograničenja</h2>
          <center>
            <img src="img/angular/ang29.svg" width="70%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Primer forme - dodavanje ograničenja</h2>
          <center>
            <img src="img/angular/ang30.svg" width="80%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Validacija cele forme - ngForm</h2>
          <ul>
            <li>u <code>form</code> elementu eksportujemo <code>ngForm</code> direktivu u lokalnu promenljivu
          <div style="font-size:30pt;"><pre><code class="html">
&lt;form #varijabla="ngForm"&gt;
          </code></pre></div>
            </li>
            <li>putem ove promenljive možemo pratiti stanje cele forme</li>
            <ul>
              <li>sadrži <code>pristine</code>, <code>errors</code>... - polja koja se odnose na celu formu</li>
              <li>sadrži sve elemente forme kojima smo dodali <code>ngModel</code> i <code>name</code></li>
              <li>elemente forme referenciramo po imenu (<code>name</code>)</li>
              <li>možemo pojedinačno proveravati stanje elemenata</li>
            </ul>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Validacija cele forme - ngForm</h2>
          <center>
            <img src="img/angular/ang31.svg" width="80%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Primer forme</h2>
          <ul>
            <li>primer u projektu <a href="files/angular/winecellar-form1.zip">winecellar-form1.zip</a></li>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Prednosti template-driven formi</h2>
          <ul>
            <li>veoma jednostavne za implementaciju</li>
            <li>primenljive na širok spektar problema</li>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Nedostaci template-driven formi</h2>
          <ul>
            <li>validacija i povezivanje sa modelom podataka vrši se u templejtu</li>
            <li>validacija u templejtu postaje nečitka u složenim slučajevima</li>
            <li>neprikladne za automatizovano testiranje</li>
            <li>teško je održavati konzistentnost podataka - da li polja sadrže validne vrednosti</li>
            <br/><br/>
            <li>=&gt; <em>reactive forms</em></li>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Primer reactive forme</h2>
          <center>
            <img src="img/angular/ang32.svg" width="60%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>ReactiveFormsModule</h2>
          <ul>
            <li>moramo importovati <code>FormsModule</code> i <code>ReactiveFormsModule</code></li>
            <li>u naš <code>AppModule</code> dodamo:</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="typescript">
import { FormsModule, ReactiveFormsModule } from '@angular/forms';  // ovde
...

@NgModule({
  declarations: [
    AppComponent,
    RegisterUserComponent
  ],
  imports: [
    BrowserModule,
    FormsModule,         // ovde
    ReactiveFormsModule  // ovde
  ], 
  providers: [], 
  bootstrap: [AppComponent]
})
export class AppModule { }
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>FormGroup</h2>
          <ul>
            <li>u klasu komponente <code>RegisterUserComponent</code> dodajemo polje <code>registerUserForm</code> koje predstavlja <em>model forme</em></li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="typescript">
import { FormsGroup, FormBuilder } from '@angular/forms';  // ovde
...

@Component({
  selector: 'app-register-user',
  templateUrl: './register-user.component.html',
  styleUrls: ['./register-user.component.css']
})
export class RegisterUserComponent implements OnInit { 
  registerUserForm: FormGroup;  // ovde
  ...
}
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>FormBuilder</h2>
          <ul>
            <li>model forme gradi se pomoću <code>FormBuilder</code></li>
          </ul>
          <center>
            <img src="img/angular/ang33.svg" width="70%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Templejt forme</h2>
          <ul>
            <li>vezujemo <code>&lt;form&gt;</code> element za <em>model forme</em></li>
            <li>vezujemo elemente forme za odgovarajuće kontrole u okviru modela forme</li>
          </ul>
          <center>
            <img src="img/angular/ang34.svg" width="80%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Primer forme</h2>
          <ul>
            <li>sada možemo menjati vrednosti inputa i posmatrati kako se menja model forme (<code>registerUserForm.value</code>)</li>
            <li>vezujemo elemente forme za odgovarajuće kontrole u okviru modela forme</li>
          </ul>
          <center>
            <img src="img/angular/ang35.svg" width="50%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Submit: slanje popunjene forme</h2>
          <center>
            <img src="img/angular/ang36.svg" width="80%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Primer forme</h2>
          <ul>
            <li><a href="files/angular/reactive-01.zip">files/angular/reactive-01.zip</a></li>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Složenije forme</h2>
          <ul>
            <li>u jednostavnim slučajevima (npr. <i>register user</i>, <i>search box</i>) dovoljan je model forme</li><br/>
            <li>za unos složenijih objekata korisno je razdvojiti:</li>
            <ul>
              <li><em>model forme</em>: kontrole u formi, validacija...</li>
              <li><em>model podataka</em>: konzistentnost podataka u objektu: obavezna polja, odgovarajući tip, ograničenja...</li>
            </ul>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Primer: ažuriranje zaposlenog</h2>
          <ul>
            <li>model zaposlenog: klasa <code>Employee</code></li>
            <li>sadrži polja:</li>
            <ul>
              <li><code>_id</code>, <code>name</code>, <code>surname</code>, <code>jmbg</code>, <code>email</code></li>
            </ul>
          </ul>
          <center>
            <img src="img/angular/ang37.svg" width="50%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Primer: ažuriranje zaposlenog</h2>
          <ul>
            <li>u klasu komponente <code>EditEmployeeComponent</code> dodajemo dva atributa</li>
            <ul>
              <li><code>employee</code> - model podataka</li>
              <li><code>employeeForm</code> - model forme</li>
            </ul>
          </ul>
          <center>
            <img src="img/angular/ang38.svg" width="80%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Primer: ažuriranje zaposlenog</h2>
          <ul>
            <li>submit forme</li>
          </ul>
          <center>
            <img src="img/angular/ang39.svg" width="75%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Popunjavanje forme prema modelu</h2>
          <ul>
            <li>želimo da popunimo formu prema modelu podataka</li>
            <li>početno stanje forme treba da predstavlja objekat koji želimo da menjamo</li>
            <li>dve metode:</li>
            <ul>
              <li><code>setValue</code> - dodeli vrednosti svim kontrolama forme odjednom</li>
              <li><code>patchValue</code> - ažuriraj podskup kontrola forme</li>
            </ul>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Popunjavanje forme prema modelu</h2>
          <center>
            <img src="img/angular/ang40.svg" width="85%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Revert forme</h2>
          <ul>
            <li>recimo da je korisnik menjao podatke u formi pa hoće da ih vrati u početno stanje</li>
            <li>model podataka je odvojen od forme pa je ovo jednostavno:</li>
          </ul>
          <center>
            <img src="img/angular/ang41.svg" width="85%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Reaktivni stil</h2>
          <ul>
            <li>eksplicitno se vodi računa o toku podataka</li>
          </ul>
          <center>
            <img src="img/angular/ang42.svg" width="80%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Reaktivni stil</h2>
          <ul>
            <li>klasa komponente</li>
            <ul>
              <li>kreira i manipuliše kontrolama forme</li>
              <li>neposredno pristupa modelu podataka i strukturi forme</li>
              <li>kontroliše tok podataka</li>
            </ul>
            <br/>
            <li>kontrola toka ne ažurira model direktno</li>
            <ul>
              <li>izvlači promene koje je korisnik napravio</li>
              <li>prosleđuje ih spoljnim komponentama ili servisima i vraća novi model podataka</li>
              <li>komponenta reflektuje promene na formi</li>
            </ul>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Primer forme</h2>
          <ul>
            <li>dodajemo ograničenja</li>
            <ul>
              <li>sve kontrole moraju biti popunjene</li>
              <li>JMBG mora imati 13 karaktera</li>
              <li>email mora biti u formatu ime@domen</li>
            </ul>
          </ul>
          <center>
            <img src="img/angular/ang43.svg" width="50%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Validacija forme</h2>
          <ul>
            <li>dodajemo je u komponenti a ne u templejtu</li>
            <ul>
              <li>importovati <code>Validators</code> iz <code>@angular/forms</code></li>
              <li>validatore zakačiti za kontrolu pomoću <code>FormBuildera</code></li>
              <li>Angular će pozivati ove funkcije kad se promeni vrednost u kontroli</li>
              <li>ugrađeni validatori: <a href="https://angular.io/api/forms/Validators" target="_blank">https://angular.io/api/forms/Validators</a></li>
            </ul>
          </ul>
          <center>
            <img src="img/angular/ang44.svg" width="90%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Provera stanja kontrola u formi</h2>
          <ul>
            <li>ispitivanje stanja kontrole na formi:<br/>
              <pre><code class="typescript">forma.controls.ime_kontrole.errors?.ime_greske</code></pre>
            </li>
            <li>za svaku kontrolu i celu formu dostupna su polja:</li>
          </ul>
          <table>
            <thead>
              <tr>
                <td>polje</td>
                <td>opis</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>value</code></td>
                <td>vrednost unesena u kontrolu</td>
              </tr>
              <tr>
                <td><code>valid</code></td>
                <td>true ako je kontrola validna</td>
              </tr>
              <tr>
                <td><code>status</code></td>
                <td><code>VALID</code>, <code>INVALID</code>, <code>PENDING</code>, <code>DISABLED</code></td>
              </tr>
              <tr>
                <td><code>pristine</code> <code>dirty</code></td>
                <td><code>pristine</code> je <code>true</code> ako korisnik nije menjao vrednost kontrole, <code>dirty</code> obrnuto</td>
              </tr>
              <tr>
                <td><code>touched</code> <code>untouched</code></td>
                <td><code>untouched</code> je <code>true</code> ako korisnik nije nijednom fokusirao kontrolu, <code>touched</code> obrnuto</td>
              </tr>
            </tbody>
          </table>
        </section>

        <section class="valigntop left">
          <h2>Primer provere stanja</h2>
          <center>
            <img src="img/angular/ang45.svg" width="85%"/>
          </center>
        </section>

        <section class="valigntop left">
          <h2>Primer reactive forme</h2>
          <ul>
            <li><a href="files/angular/reactive-02.zip">files/angular/reactive-02.zip</a></li>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Prednosti i nedostaci reactive formi</h2>
          <ul>
            <li>prednost: većina logike je u TypeScript kodu</li>
            <ul>
              <li>možemo praviti custom validatore</li>
              <li>jednostavnije za automatsko testiranje</li>
            </ul>
            <li>mana: nešto složenije od template-driven formi</li>
            <br/>
            <li>gotovo sve se može postići pomoću obe vrste formi, ali</li>
            <ul>
              <li>dosta funkcionalnosti se lakše implementira pomoću reactive formi</li>
              <li>kompleksnija validacija je lakša pomoću reactive formi</li>
            </ul>
          </ul>
        </section>

        <section class="valigntop left">
          <h2>Dodatni materijali</h2>
          <ul>
            <li>template-driven forms: <a href="https://angular.io/guide/forms" target="_blank">https://angular.io/guide/forms</a></li>
            <li>reactive forms: <a href="https://angular.io/guide/reactive-forms" target="_blank">https://angular.io/guide/reactive-forms</a></li>
            <li>validacija forme: <a href="https://angular.io/guide/form-validation" target="_blank">https://angular.io/guide/form-validation</a></li>
            <li><a href="https://blog.angular-university.io/introduction-to-angular-2-forms-template-driven-vs-model-driven/" target="_blank">https://blog.angular-university.io/introduction-to-angular-2-forms-template-driven-vs-model-driven/</a></li>
          </ul>
        </section>
<!--
        <section class="valigntop left">
          <h2>FormControl</h2>
          <ul>
            <li>predstavlja jedno polje na formi, sa svojim osobinama</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="typescript">
// create a new FormControl with the value "Nate"
let nameControl = new FormControl("Nate");

let name = nameControl.value; // -&gt; Nate

// now we can query this control for certain values:
nameControl.errors // -&gt; StringMap&lt;string, any&gt; of errors
nameControl.dirty  // -&gt; false
nameControl.valid  // -&gt; true  
          </code></pre></div>
          <ul>
            <li>povezivanje sa DOM stablom</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="typescript">
&lt;input type=&quot;text&quot; [formControl]=&quot;name&quot; /&gt;
          </code></pre></div>
        </section>

        <section class="valigntop left">
          <h2>FormGroup</h2>
          <ul>
            <li>skup polja na formi</li>
          </ul>
          <div style="font-size:30pt;"><pre><code class="typescript">
let personInfo = new FormGroup({ 
  firstName: new FormControl("Zika"), 
  lastName: new FormControl("Zikic"), 
  zip: new FormControl("90210")
})

personInfo.value; // -&gt; {
// firstName: &quot;Zika&quot;,
// lastName: &quot;Zikic&quot;,
// zip: &quot;90210&quot;
//}

personInfo.errors // -&gt; StringMap&lt;string, any&gt; of errors
personInfo.dirty  // -&gt; false
personInfo.valid  // -&gt; true
          </code></pre></div>
        </section>

        <section>
          <h1>#5: prenos parametara</h1>
        </section>

        <section>
          <h1>#6: templejti</h1>
        </section>
-->

        <section>
          <h1>#12: servisi</h1>
        </section>



        <section>
          <h3>Kraj dela</h3>
          <p><a href="#/">← Početak dela</a></p>
          <p><a href="index.html#/1">⇐ Početak kursa</a></p>
        </section>

      </div>
    </div>
    <div id="overlay"></div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
      // More info https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        history: true,

        // 16:9 aspect ratio
        width: 1280,
        height: 720,
        margin: 0.02,

        // don't piss people off
        transition: 'none',

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
          { src: 'plugin/markdown/marked.js' },
          { src: 'plugin/markdown/markdown.js' },
          { src: 'plugin/notes/notes.js', async: true },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
        ]
      });

      // moze i pomocu
      // window.onhashchange = function() {
      //   ...
      // }
      Reveal.addEventListener('slidechanged', function(event) {
        var overlayDiv = document.getElementById("overlay");
        var currSlide = Reveal.getCurrentSlide();
        var overlayImg = currSlide.getAttribute("overlay");
        if (overlayImg != null) {
          alert('x');
          overlayDiv.style.display = 'block';
          overlayDiv.style.backgroundImage = 'url("' + overlayImg + '")';
          overlayDiv.style.zIndex = 1;
        } else {
          overlayDiv.style.display = 'none';
          overlayDiv.style.zIndex = -1;
        }
      });

    </script>
  </body>
</html>