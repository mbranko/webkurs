<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>ECMAScript 6</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/branko.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">

        <section class="vcenter">
          <h1>ECMAScript 6</h1>
          <p>
            <small><a href="http://mbranko.github.io/webkurs">http://mbranko.github.io/webkurs</a></small>
          </p>
          <p>
            <small>Ovo je deo <a href="index.html#/1">web kursa</a></small>
          </p>
        </section>

        <section class="valigntop">
          <h2>Literatura</h2>
          <ul>
            <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide" target="_blank">JavaScript Guide</a> od Mozilla Developers Network.</li>
          </ul>
        </section>

        <section class="valigntop">
          <h2>Sadržaj</h2>
          <ol>
            <li><a href="#/arrows">Strelica</a></li>
            <li><a href="#/classes">Klase</a></li>
            <li><a href="#/literals">Objektni literali</a></li>
            <li><a href="#/templates">Template stringovi</a></li>
            <li><a href="#/webstorage">Destrukturiranje</a></li>
            <li><a href="#/efficient">Default + Rest + Spread</a></li>
            <li><a href="#/cors">Let + Const</a></li>
            <li><a href="#/cors">Iterators + For..Of</a></li>
            <li><a href="#/cors">Generators</a></li>
            <li><a href="#/cors">Unicode</a></li>
            <li><a href="#/cors">Modules</a></li>
            <li><a href="#/cors">Module Loaders</a></li>
            <li><a href="#/cors">Map + Set + WeakMap + WeakSet</a></li>
            <li><a href="#/cors">Proxies</a></li>
            <li><a href="#/cors">Symbols</a></li>
            <li><a href="#/cors">Subclassable Built-ins</a></li>
            <li><a href="#/cors">Math + Number + String + Array + Object APIs</a></li>
            <li><a href="#/cors">Subclassable Built-ins</a></li>
            <li><a href="#/cors">Binary and Octal Literals</a></li>
            <li><a href="#/cors">Promises</a></li>
            <li><a href="#/cors">Reflect API</a></li>
            <li><a href="#/cors">Tail Calls</a></li>
          </ol>
        </section>

        <section id="arrows">
          <h1>#1: strelice</h1>
        </section>

        <section class="valigntop left">
          <h2>Strelice =&gt;</h2>
          <ul>
            <li>skraćena sintaksa za funkcije</li>
            <li>slično kao C#, Java 8, CoffeeScript</li>
            <li>telo funkcije kao izraz ili kao blok naredbi</li>
            <li>za razliku od funkcije, deli <code>this</code> sa kodom koji je okružuje</li>
          </ul>
          <p class="bottom"><small><a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/Arrow_functions" target="_blank">https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/Arrow_functions</a></small>
        </section>

        <section class="valigntop left">
          <h2>Strelice =&gt;</h2>
          <div style="font-size:30pt;"><pre><code class="javascript">
// Expression bodies
var odds = evens.map(v => v + 1);
var nums = evens.map((v, i) => v + i);
var pairs = evens.map(v => ({even: v, odd: v + 1}));

// Statement bodies
nums.forEach(v => {
  if (v % 5 === 0)
    fives.push(v);
});

// Lexical this
var bob = {
  _name: "Bob",
  _friends: [],
  printFriends() {
    this._friends.forEach(f =>
      console.log(this._name + " knows " + f));
  }
}            
          </code></pre></div>
        </section>

        <section id="classes">
          <h1>#2: klase</h1>
        </section>

        <section class="valigntop left">
          <h2>Klase</h2>
          <ul>
            <li>sintaksni šećer za prototipsko nasleđivanje</li>
            <li>jednostavnije za korišćenje</li>
            <li>olakšava interoperabilnost</li>
            <li>konstruktori, metode, statičke metode, nasleđivanje, <code>super</code></li>
          </ul>
          <p class="bottom"><small><a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Classes" target="_blank">https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Classes</a></small>
        </section>

        <section class="valigntop left">
          <h2>Klase</h2>
          <div style="font-size:27pt;"><pre><code class="javascript">
class SkinnedMesh extends THREE.Mesh {
  constructor(geometry, materials) {
    super(geometry, materials);

    this.idMatrix = SkinnedMesh.defaultMatrix();
    this.bones = [];
    this.boneMatrices = [];
    //...
  }
  update(camera) {
    //...
    super.update();
  }
  get boneCount() {
    return this.bones.length;
  }
  set matrixType(matrixType) {
    this.idMatrix = SkinnedMesh[matrixType]();
  }
  static defaultMatrix() {
    return new THREE.Matrix4();
  }
}        
          </code></pre></div>
        </section>

        <section id="literals">
          <h1>#3: objektni literali</h1>
        </section>

        <section class="valigntop left">
          <h2>Unapređeni objektni literali</h2>
          <ul>
            <li>definisanje prototipa</li>
            <li>skraćeno pisanje <code>foo: foo</code> dodela</li>
            <li>definisanje metoda</li>
            <li>pozivanje <code>super</code></li>
            <li>izračunavanje naziva osobina pomoću izraza</li><br/>
            <li>približavanje objektnih literala i deklaracija klasa</li>

          </ul>
          <p class="bottom"><small><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Grammar_and_types#Object_literals" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Grammar_and_types#Object_literals</a></small>
        </section>

        <section class="valigntop left">
          <h2>Unapređeni objektni literali</h2>
          <div style="font-size:30pt;"><pre><code class="javascript">
var obj = {
    // __proto__
    __proto__: theProtoObj,

    // Shorthand for ‘handler: handler’
    handler,

    // Methods
    toString() {
      // Super calls
      return "d " + super.toString();
    },

    // Computed (dynamic) property names
    [ 'prop_' + (() => 42)() ]: 42
};  
          </code></pre></div>
        </section>

        <section id="templates">
          <h1>#4: template stringovi</h1>
        </section>

        <section class="valigntop left">
          <h2>Template stringovi</h2>
          <ul>
            <li>sintaksni šećer za konstrukciju stringova</li>
            <li>slično string interpolaciji za Perl, Python, ...</li>
            <li>dodavanje tagova za sprečavanje injection napada ili konstruisanja struktura podataka</li>
          </ul>
          <p class="bottom"><small><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/template_strings" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/template_strings</a></small>
        </section>

        <section class="valigntop left">
          <h2>Template stringovi</h2>
          <div style="font-size:30pt;"><pre><code class="javascript">
// Basic literal string creation
`In JavaScript '\n' is a line-feed.`

// Multiline strings
`In JavaScript this is
 not legal.`

// String interpolation
var name = "Bob", time = "today";
`Hello ${name}, how are you ${time}?`

// Construct an HTTP request prefix is used to interpret the replacements and construction
POST`http://foo.org/bar?a=${a}&amp;b=${b}
     Content-Type: application/json
     X-Credentials: ${credentials}
     { "foo": ${foo},
       "bar": ${bar}}`(myOnReadyStateChangeHandler);
          </code></pre></div>
        </section>





        <section>
          <h3>Kraj dela</h3>
          <p><a href="#/">← Početak dela</a></p>
          <p><a href="index.html#/1">⇐ Početak kursa</a></p>
        </section>

      </div>
    </div>
    <div id="overlay"></div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
      // More info https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        history: true,

        // 16:9 aspect ratio
        width: 1280,
        height: 720,
        margin: 0.02,

        // don't piss people off
        transition: 'none',

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
          { src: 'plugin/markdown/marked.js' },
          { src: 'plugin/markdown/markdown.js' },
          { src: 'plugin/notes/notes.js', async: true },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
        ]
      });

      // moze i pomocu
      // window.onhashchange = function() {
      //   ...
      // }
      Reveal.addEventListener('slidechanged', function(event) {
        var overlayDiv = document.getElementById("overlay");
        var currSlide = Reveal.getCurrentSlide();
        var overlayImg = currSlide.getAttribute("overlay");
        if (overlayImg != null) {
          alert('x');
          overlayDiv.style.display = 'block';
          overlayDiv.style.backgroundImage = 'url("' + overlayImg + '")';
          overlayDiv.style.zIndex = 1;
        } else {
          overlayDiv.style.display = 'none';
          overlayDiv.style.zIndex = -1;
        }
      });

    </script>
  </body>
</html>
<!--

Obicne stvari
http://www.teaching-materials.org/javascript/

Neobicne stvari
https://slides.com/concise/js/fullscreen#/
https://gist.github.com/concise/a20b3e5d7e9c61dfbcc5
http://slides.com/gsklee/functional-programming-in-5-minutes#/

Good parts vs bad parts
http://johnkpaul.github.io/presentations/empirejs/javascript-bad-parts/#/

http://brendaneich.github.io/Strange-Loop-2012/#/

http://es6-features.org

https://hackernoon.com/how-it-feels-to-learn-javascript-in-2016-d3a717dd577f
-->
